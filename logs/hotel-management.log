2025-05-05 20:27:59.882 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:00.054 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:00.056 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:00.057 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:00.059 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:00.059 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:00.060 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:00.060  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:00.060 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:00.067 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:00.069 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:00.070 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:00.071 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:00.071 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:00.346 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:00.346 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:00.348 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:00.348 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:00.348 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:00.348 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:00.349 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:00.349  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:00.349 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:00.350 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:00.350 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:00.352 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:00.352 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:00.353 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:00.353 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:00.353 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:00.353  INFO 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:00.353 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:00.356 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:00.358 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:00.358 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:00.358 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:00.358 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:00.359 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:00.360 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:00.360 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:00.361 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:00.362 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:00.461 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:00.461 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:00.463 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:00.463 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:00.464 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:00.464 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:00.465 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:00.465 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:00.465 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:00.465 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:00.465 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:00.466 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:00.466 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:00.466 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:00.466 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:00.467 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:00.467 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:00.467 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:00.467 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:00.467 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:00.467 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:00.468  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:00.468 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:00.474 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:00.476 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:00.477 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:00.478 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:00.478 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:00.484 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:00.489 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:00.490 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:00.490 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:00.510 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:00.510 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:00.510 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:00.510 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:00.547 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:00.547 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:00.551 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:00.551 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:00.551 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:00.551 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:00.551 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:00.552  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:00.552 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:00.558 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:00.560 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:00.560 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:00.561 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:00.561 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:01.112 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:01.112 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:01.116 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:01.116 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:01.116 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:01.116 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:01.116 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:01.116 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:01.117 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:01.117  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:01.117 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:01.119 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:01.119 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:01.119 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:01.120 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:01.120 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:01.120  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:01.120 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:01.123 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:01.124 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:01.125 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:01.125 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:01.126 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:01.126 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:01.126 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:01.126 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:01.126 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:01.126 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:01.224 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:01.225 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:01.225 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:01.225 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:01.225 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:01.225 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:01.227 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:01.227 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:01.227 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:01.227 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:01.227 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:01.228 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:01.228  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:01.229 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:01.233 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:01.234 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:01.234 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:01.235 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:01.235 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:01.244 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:01.248 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:01.249 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:01.249 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:01.274 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:01.274 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:01.275 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:01.275 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:01.276 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:01.276 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:01.276 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:01.276 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:01.276 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:01.276 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:01.277 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:01.277  INFO 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:01.277 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:01.281 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:01.283 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:01.283 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:01.284 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:01.284 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:02.947 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:02.948 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:02.950 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:02.950 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:02.950 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:02.950 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:02.950 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:02.950 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:02.951 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:02.951  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:02.951 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:02.954 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:02.954 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:02.954 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:02.954 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:02.954 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:02.955  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:02.955 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:02.959 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:02.960 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:02.961 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:02.962 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:02.962 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:02.962 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:02.964 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:02.964 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:02.964 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:02.964 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.039 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:03.039 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.044 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.044 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.044 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:03.044 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:03.044 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:03.050 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:03.050 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.053 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.054 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.055 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:03.056 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:03.056 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.056 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:03.057 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:03.059 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.060 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.060 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:03.060 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:03.060 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:03.061  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:03.061 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:03.066 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:03.068 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.069 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:03.069 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.070 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.072 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.080 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:03.081 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.081 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.091 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.091 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:03.091 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.091 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.128 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:03.128 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.130 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.130 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.130 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:03.130 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:03.130 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:03.131  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:03.131 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:03.135 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:03.136 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.137 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:03.137 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.137 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.832 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:03.833 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.834 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:03.835 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.835 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.835 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.835 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:03.835 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:03.835 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:03.836  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:03.836 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:03.837 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.838 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.838 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:03.838 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:03.838 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:03.839  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:03.839 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:03.843 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:03.843 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:03.846 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.846 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.846 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:03.846 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:03.847 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.847 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.847 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.847 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.961 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:03.961 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.963 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.964 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.964 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:03.964 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:03.964 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:03.964 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:03.964 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.967 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.968 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.968 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:03.968 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:03.968 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:03.968 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:03.969 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:03.970 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:03.971 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:03.971 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:03.971 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:03.971 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:03.972  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:03.972 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:03.976 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:03.978 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.978 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:03.980 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.980 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:03.985 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:03.990 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:03.990 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:03.991 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.009 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.009 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:04.011 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.011 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.062 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:04.062 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:04.064 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:04.065 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:04.065 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:04.065 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:04.065 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:04.065  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:04.065 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:04.072 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:04.074 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.074 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:04.075 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.075 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.633 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:04.633 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:04.635 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:04.636 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:04.636 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:04.636 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:04.636 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:04.636 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:04.636 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:04.637  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:04.637 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:04.638 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:04.639 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:04.639 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:04.639 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:04.639 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:04.639  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:04.639 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:04.642 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:04.643 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:04.644 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.644 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.644 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:04.644 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:04.644 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.644 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.645 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.645 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.748 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:04.749 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:04.751 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:04.753 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:04.753 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:04.753 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:04.753 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:04.753 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:04.753 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:04.754 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:04.755 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:04.755 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:04.756 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:04.756 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:04.756 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:04.756 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:04.756 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:04.757 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:04.757 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:04.757 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:04.757 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:04.758  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:04.758 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:04.763 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:04.764 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.765 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:04.765 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.766 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.772 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.778 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:04.780 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.780 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.800 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.801 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:04.801 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.802 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:04.836 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:04.836 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:04.839 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:04.839 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:04.839 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:04.839 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:04.839 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:04.840  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:04.840 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:04.846 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:04.848 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:04.848 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:04.849 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:04.849 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:06.159 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:06.159 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:06.162 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:06.163 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:06.163 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:06.163 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:06.163 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:06.164  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:06.164 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:06.168 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:06.168 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:06.174 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:06.174 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:06.175 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:06.175 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:06.175 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:06.176 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:06.177  INFO 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:06.177 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:06.178 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:06.178 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:06.179 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:06.180 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:06.183 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:06.185 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:06.185 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:06.186 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:06.186 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:06.267 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:06.267 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:06.269 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:06.269 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:06.269 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:06.269 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:06.269 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:06.269 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:06.270 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:06.272 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:06.272 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:06.272 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:06.272 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:06.272 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:06.273 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:06.274 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:06.276 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:06.277 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:06.277 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:06.277 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:06.277 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:06.278  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:06.278 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:06.283 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:06.284 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:06.285 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:06.285 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:06.285 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:06.287 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:06.291 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:06.292 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:06.292 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:06.318 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:06.318 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:06.319 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:06.319 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:06.366 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:06.366 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:06.369 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:06.369 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:06.370 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:06.370 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:06.370 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:06.370  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:06.370 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:06.375 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:06.377 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:06.378 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:06.378 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:06.379 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.066 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:07.066 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.068 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.068 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:07.068 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.068 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.068 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:07.068 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:07.068 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.069  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.070 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:07.072 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.072 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.073 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:07.073 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:07.073 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.073  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.073 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:07.076 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:07.077 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:07.078 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.078 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.078 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.078 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.079 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.079 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.079 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.079 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.148 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:07.149 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.151 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.152 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:07.152 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.152 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.152 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:07.152 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:07.152 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:07.154 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.154 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.154 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:07.154 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:07.154 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:07.160 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:07.160 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.163 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.163 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.163 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:07.163 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:07.163 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.164  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.164 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:07.168 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.169 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:07.171 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.171 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.172 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.173 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.175 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:07.175 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.176 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.191 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.192 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:07.192 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:07.192 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.194 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.194 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.196 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.197 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.197 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:07.197 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:07.197 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.197  INFO 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.197 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:07.201 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:07.202 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.203 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.203 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.203 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.633 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:07.633 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.635  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.635 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:07.637 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.637 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.637 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:07.637 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:07.637 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.637  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.638 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:07.641 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:07.642 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:07.642 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.642 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.643 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.643 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.644 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.644 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.644 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.645 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.732 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:07.732 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.735 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.735 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.735 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:07.735 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:07.735 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:07.742 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:07.742 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.743 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:07.743 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.744 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.744 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.744 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:07.744 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:07.745 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:07.745 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.745 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.745 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:07.745 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:07.746 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.746  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.746 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:07.751 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:07.753 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.753 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.754 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.754 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.759 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.764 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:07.765 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.765 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.774 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.775 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:07.775 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.775 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:07.815 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:07.815 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:07.817 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:07.817 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:07.817 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:07.817 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:07.817 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:07.817  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:07.817 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:07.821 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:07.823 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:07.823 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:07.824 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:07.824 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:08.770 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:28:08.771 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:08.773 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:08.773 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:08.774 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:08.774 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:08.774 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:28:08.774 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:28:08.774 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:08.775  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:08.775 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:08.776 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:08.776 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:08.776 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:28:08.777 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:28:08.777 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:08.777  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:08.777 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:28:08.780 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:28:08.783 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:08.783 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:08.784 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:08.784 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:08.787 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:28:08.788 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:08.789 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:08.789 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:08.789 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:08.878 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:28:08.878 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:08.880 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:08.881 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:08.881 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:28:08.881 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:28:08.881 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:28:08.888 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:28:08.889 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:08.889 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:08.889 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:08.891 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:08.891 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:08.891 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:28:08.891 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:08.891 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:28:08.892 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:28:08.892 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:08.892 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:28:08.892 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:28:08.892 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:08.893  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:08.893 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:08.899 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:08.900 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:08.900 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:08.901 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:08.901 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:08.907 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:08.912 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:28:08.913 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:08.914 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:08.927 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:08.927 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:28:08.928 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:08.928 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:28:08.986 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:08.987 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:28:08.989 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:28:08.990 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:28:08.990 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:28:08.991 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:28:08.991 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:28:08.991  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:28:08.991 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:28:08.997 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:28:08.999 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:28:08.999 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:28:09.000 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:28:09.000 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:29:33.279 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:29:33.280 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:29:33.284 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:29:33.285 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:29:33.285 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:29:33.286 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:29:33.286 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:29:33.287  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:29:33.287 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:29:33.298 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:29:33.301 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:29:33.301 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:29:33.302 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:29:33.302 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:29:33.303 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:29:33.303 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:29:33.307 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:29:33.308 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:29:33.309 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:29:33.309 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:29:33.309 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:29:33.340 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:29:33.340 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:29:33.341 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:29:33.341 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:29:33.749 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:29:33.749 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:29:33.753 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:29:33.753 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:29:33.753 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:29:33.753 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:29:33.753 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:29:33.756 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:29:33.757 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:29:33.762 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:29:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:29:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:29:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:29:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:29:33.763 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:29:33.763 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:29:33.767 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:29:33.767 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:29:33.767 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:29:33.767 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:29:33.768 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:29:33.768  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:29:33.768 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:29:33.774 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:29:33.777 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:29:33.778 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:29:33.779 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:29:33.780 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:29:33.789 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:29:33.798 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:29:33.799 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:29:33.799 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:29:33.828 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:29:33.828 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:29:33.829 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:29:33.829 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:29:33.921 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:29:33.921 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:29:33.925 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:29:33.926 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:29:33.926 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:29:33.926 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:29:33.926 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:29:33.927  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:29:33.927 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:29:33.935 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:29:33.937 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:29:33.938 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:29:33.939 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:29:33.939 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:30:16.823 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:30:16.824 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:30:16.827 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:30:16.828 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:30:16.828 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:30:16.830 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 20:30:16.830 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:30:16.834  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:30:16.834 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:30:16.845 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:30:16.847 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:30:16.848 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:30:16.848 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:30:16.849 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:30:17.051 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:30:17.051 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:30:17.055 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:30:17.056 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:30:17.056 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:30:17.058 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:30:17.059 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:30:17.059 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:30:17.059 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:30:17.063 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:30:17.064 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:30:17.064 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:30:17.064 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:30:17.064 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:30:17.075 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:30:17.076 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:30:17.079 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:30:17.080 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:30:17.080 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:30:17.080 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:30:17.080 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:30:17.081  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:30:17.081 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:30:17.089 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:30:17.090 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:30:17.090 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:30:17.091 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:30:17.091 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:30:17.093 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:30:17.100 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:30:17.101 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:30:17.101 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:30:17.122 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:30:17.122 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:30:17.123 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:30:17.123 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:30:17.211 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:30:17.212 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:30:17.214 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:30:17.215 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:30:17.215 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:30:17.215 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:30:17.215 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:30:17.215  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:30:17.215 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:30:17.221 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:30:17.222 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:30:17.222 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:30:17.223 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:30:17.223 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:23.216 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:32:23.216 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:23.220 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:23.221 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:23.221 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:32:23.221 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:32:23.222 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:23.222  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:23.223 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:23.227 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:32:23.228 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:23.231 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:32:23.232 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:23.232 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:32:23.232 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:32:23.232 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:32:23.233 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:32:23.234 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:23.235 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:23.236 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:23.237 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:23.254 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:23.254 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:32:23.255 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:23.255 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:23.487 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:32:23.488 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:23.492 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:23.492 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:23.492 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:32:23.492 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:32:23.492 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:32:23.549 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:23.549 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:32:23.549 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:23.550 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:23.760 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:32:23.760 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:23.760 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:23.760 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:23.763 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:23.764 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:23.764 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:23.764 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:23.765 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:32:23.765 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:23.765 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:32:23.765 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:32:23.765 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:23.765 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:32:23.766  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:23.766 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:23.773 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:23.776 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:23.776 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:23.777 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:23.777 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:23.793 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:23.802 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:32:23.804 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:23.804 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:23.859 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:23.860 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:23.861 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:23.862 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:23.862 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:23.862 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:32:23.862 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:23.862  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:23.862 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:23.866 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:23.868 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:23.868 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:23.868 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:23.869 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:24.891 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:32:24.891 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:24.894 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:24.894 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:24.894 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:32:24.895 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:32:24.895 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:24.897  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:24.897 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:24.905 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:32:24.908 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:24.908 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:24.909 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:24.909 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:24.910 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:32:24.911 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:24.913 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:24.915 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:24.915 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:32:24.915 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:32:24.915 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:24.915  INFO 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:24.915 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:24.921 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:32:24.923 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:24.923 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:24.924 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:24.924 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:25.015 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:32:25.015 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:25.020 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:25.021 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:25.021 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:32:25.022 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:32:25.022 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:32:25.035 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:32:25.035 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:25.037 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:25.037 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:25.038 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:32:25.038 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:32:25.038 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:32:25.039 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:25.040 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:25.044 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:25.045 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:25.045 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:25.045 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:32:25.045 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:25.050  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:25.050 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:25.058 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:25.060 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:25.060 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:25.061 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:25.061 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:25.062 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:25.070 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:32:25.071 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:25.071 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:25.078 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:25.078 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:32:25.079 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:25.080 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:25.162 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:25.162 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:25.164 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:25.165 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:25.165 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:25.165 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:32:25.165 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:25.165  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:25.165 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:25.171 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:25.173 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:25.173 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:25.174 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:25.174 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:28.582 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:32:28.582 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:28.587 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:28.587 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:32:28.587 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:28.587 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:28.587 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:32:28.587 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:32:28.588 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:28.588  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:28.588 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:28.589 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:28.590 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:32:28.590 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:32:28.590 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:32:28.590 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:32:28.595 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:32:28.597 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:28.597 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:28.598 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:28.598 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:28.606 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:28.606 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:32:28.607 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:28.607 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:29.061 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:32:29.061 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:29.066 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:29.067 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:29.067 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:32:29.067 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:32:29.067 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:32:29.067 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:32:29.068 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:29.070 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:29.071 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:29.071 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:32:29.071 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:29.071 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:32:29.071 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:29.072 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:32:29.075 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:29.075 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:29.075 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:29.075 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:32:29.075 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:29.076  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:29.076 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:29.084 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:29.088 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:29.088 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:29.089 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:29.089 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:29.100 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:29.108 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:32:29.109 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:29.109 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:29.135 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:29.135 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:32:29.136 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:29.137 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:29.397 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:29.397 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:29.401 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:29.401 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:29.401 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:29.401 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:32:29.402 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:29.402  INFO 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:29.402 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:29.408 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:29.411 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:29.411 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:29.412 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:29.412 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:30.880 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:32:30.880 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:30.881 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:32:30.881 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:30.882 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:30.882 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:32:30.883 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:30.884  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:30.884  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:30.884 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:30.884 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:30.887 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:32:30.890 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:30.890 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:30.891 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:32:30.891 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:30.893 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:30.895 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:30.895 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:30.896 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:30.897 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:31.064 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:32:31.064 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:31.066 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:31.066 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:31.066 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:32:31.066 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:32:31.066 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:32:31.067 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:32:31.067 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:31.069 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:31.069 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:31.070 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:31.070 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:31.070 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:32:31.070 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:32:31.070 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:32:31.071 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:31.072 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:31.072 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:31.072 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:32:31.072 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:31.073  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:31.073 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:31.076 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:31.078 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:31.078 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:31.079 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:31.079 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:31.086 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:31.091 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:32:31.092 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:31.092 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:31.107 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:31.107 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:32:31.108 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:31.108 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:31.134 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:31.134 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:31.137 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:31.137 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:31.138 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:31.138 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:32:31.139 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:31.139  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:31.139 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:31.143 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:31.145 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:31.145 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:31.146 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:31.146 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:33.346 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:32:33.346 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:33.349 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:33.349 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:33.349 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:32:33.349 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:32:33.350 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:33.350 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:32:33.350  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:33.350 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:33.350 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:33.354 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:33.355 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:32:33.355 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:32:33.355 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:32:33.355 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:32:33.360 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:32:33.362 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:33.362 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:33.362 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:33.362 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:33.376 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:33.376 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:32:33.376 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:33.378 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:33.819 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:32:33.820 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:33.821 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:32:33.821 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:33.823 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:33.824 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:33.824 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:33.824 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:33.824 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:32:33.825 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:33.825 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:32:33.825 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:33.825 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:32:33.825 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:32:33.825 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:32:33.825 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:32:33.828 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:33.829 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:33.829 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:33.829 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:32:33.829 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:33.830  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:33.830 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:33.836 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:33.838 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:33.838 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:33.839 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:33.839 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:33.845 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:33.854 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:32:33.854 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:33.856 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:33.876 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:33.876 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:32:33.877 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:33.877 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:33.934 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:33.934 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:33.937 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:33.938 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:33.938 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:33.938 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:32:33.938 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:33.939  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:33.939 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:33.943 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:33.945 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:33.945 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:33.946 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:33.946 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:38.345 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:32:38.345 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:32:38.346 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:38.346 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:38.349 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:38.350  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:38.350 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:38.350  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:38.350 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:32:38.354 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:32:38.356 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:38.356 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:38.357 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:38.357 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:32:38.357 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:38.358 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:38.360 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:38.360 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:38.361 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:38.566 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:32:38.567 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:38.567 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:32:38.568 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:38.571 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:38.571 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:38.572 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:32:38.572 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:32:38.572 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:38.572 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:32:38.572 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:38.573 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:32:38.573 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:32:38.573 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:32:38.575 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:38.575 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:38.579 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:38.581 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:38.581 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:32:38.581 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:32:38.582 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:38.583  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:38.583 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:38.588 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:38.590 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:38.591 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:38.592 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:38.592 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:38.601 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:38.610 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:32:38.611 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:38.611 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:38.633 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:38.633 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:32:38.634 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:38.635 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:32:38.672 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:38.673 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:32:38.676 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:32:38.676 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:32:38.676 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:32:38.676 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:32:38.676 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:32:38.677  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:32:38.677 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:32:38.683 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:32:38.684 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:32:38.684 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:32:38.685 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:32:38.686 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:35:39.584 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:35:39.584 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:35:39.594 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:35:39.594 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:35:39.595 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:35:39.595 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:35:39.595 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:35:39.596  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:35:39.596 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:35:39.598 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:35:39.598 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:35:39.603 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:35:39.604 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:35:39.604 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:35:39.604 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:35:39.605 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:35:39.620 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:35:39.623 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:35:39.623 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:35:39.624 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:35:39.624 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:35:39.630 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:35:39.631 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:35:39.631 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:35:39.631 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:35:40.055 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:35:40.055 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:35:40.055 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:35:40.055 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:35:40.055 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:35:40.055 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:35:40.058 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:35:40.058 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:35:40.058 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:35:40.058 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:35:40.058 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:35:40.059 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:35:40.060 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:35:40.060 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:35:40.060 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:35:40.060 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:35:40.061 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:35:40.061 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:35:40.061 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:35:40.062 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:35:40.062 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:35:40.063  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:35:40.063 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:35:40.069 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:35:40.071 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:35:40.071 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:35:40.072 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:35:40.072 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:35:40.105 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:35:40.114 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:35:40.115 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:35:40.115 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:35:40.116 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:35:40.117 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:35:40.118 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:35:40.118 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:35:40.169 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:35:40.169 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:35:40.173 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:35:40.173 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:35:40.173 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:35:40.173 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:35:40.173 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:35:40.174  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:35:40.174 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:35:40.179 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:35:40.181 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:35:40.182 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:35:40.182 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:35:40.183 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:06.498 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:36:06.499 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:06.503 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:06.503 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:06.504 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:36:06.505 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:36:06.506 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:06.507  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:06.507 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:06.516 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:36:06.518 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:06.519 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:06.520 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:06.520 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:06.566 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:36:06.567 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:06.570 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:06.571 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:36:06.571 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:36:06.571 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:36:06.572 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:36:06.602 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:06.602 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:36:06.603 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:06.604 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:06.951 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:36:06.951 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:06.954 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:06.954 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:06.954 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:36:06.954 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:36:06.954 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:36:06.960 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:36:06.961 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:06.965 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:06.965 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:06.965 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:06.965 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:06.965 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:36:06.965 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:36:06.965 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:36:06.971 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:06.972 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:06.972 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:06.972 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:36:06.972 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:06.973  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:06.973 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:06.987 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:06.989 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:06.989 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:06.990 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:06.990 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:06.999 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:07.009 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:36:07.010 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:07.010 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:07.020 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:07.020 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:36:07.021 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:07.021 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:07.108 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:07.108 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:07.112 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:07.113 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:07.113 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:07.113 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:36:07.113 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:07.115  INFO 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:07.115 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:07.127 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:07.129 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:07.130 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:07.130 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:07.131 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:28.894 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:36:28.894 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:28.896 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:36:28.896 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:28.897 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:28.897 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:28.898 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:36:28.898 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:36:28.898 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:28.900  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:28.900 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:28.901 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:28.902 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:36:28.902 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:36:28.902 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:36:28.902 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:36:28.913 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:36:28.914 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:28.915 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:28.916 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:28.917 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:28.924 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:28.925 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:36:28.925 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:28.925 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:29.610 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:36:29.610 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:29.614 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:29.616 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:29.617 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:36:29.617 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:36:29.617 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:36:29.640 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:36:29.640 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:29.643 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:29.643 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:29.645 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:29.645 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:29.645 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:36:29.645 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:36:29.646 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:36:29.650 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:29.650 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:29.651 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:29.651 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:36:29.651 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:29.652  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:29.653 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:29.666 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:29.668 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:29.668 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:29.669 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:29.669 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:29.669 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:29.678 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:36:29.679 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:29.679 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:29.693 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:29.694 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:36:29.694 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:29.695 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:29.908 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:29.908 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:29.910 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:29.911 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:29.911 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:29.911 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:36:29.911 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:29.912  INFO 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:29.912 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:29.918 DEBUG 34668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:29.920 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:29.921 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:29.923 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:29.923 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:30.902 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:36:30.903 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:30.902 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:36:30.903 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:30.907 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:30.907 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:30.908 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:30.908 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05
2025-05-05 20:36:30.909 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:30.909 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:36:30.909 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactDate=checkIn&date=2025-05-05", parameters={masked}
2025-05-05 20:36:30.909 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:36:30.910 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:30.910 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:30.911  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:30.911 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:30.912  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:30.912 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:30.919 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:36:30.922 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:30.922 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:30.923 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:30.924 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:30.927 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:36:30.929 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:30.929 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:30.930 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:30.931 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:31.232 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:36:31.232 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:31.236 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:31.236 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:31.236 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:36:31.237 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:36:31.237 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:36:31.244 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:36:31.244 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:31.244 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:31.244 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:31.246 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:31.247 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:31.247 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:36:31.247 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:36:31.247 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:36:31.248 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:31.248 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:31.249 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:31.249 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:36:31.249 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:31.250  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:31.250 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:31.257 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:31.259 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:31.260 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:31.260 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:31.261 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:31.264 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:31.271 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:36:31.273 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:31.273 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:31.288 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:31.288 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:36:31.289 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:31.290 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:31.350 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:31.350 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:31.354 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:31.354 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:31.354 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:31.354 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:36:31.354 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:31.355  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:31.356 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:31.362 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:31.364 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:31.365 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:31.365 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:31.365 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:33.756 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:36:33.756 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:33.757 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:36:33.758 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:33.759 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:33.759 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:33.760 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:36:33.760 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:36:33.760 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:33.763  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:33.763 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:36:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:36:33.763 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:36:33.764 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:36:33.773 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:36:33.775 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:33.776 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:33.777 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:33.777 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:33.788 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:33.789 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:36:33.790 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:33.790 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:34.521 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:36:34.521 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:34.521 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:36:34.522 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:34.528 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:34.528 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:34.528 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:34.528 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:34.529 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:36:34.529 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:36:34.529 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:36:34.529 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:36:34.529 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:36:34.529 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:36:34.530 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:34.530 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:34.534 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:34.535 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:34.535 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:34.535 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:36:34.535 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:34.539  INFO 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:34.539 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:34.546 DEBUG 34668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:34.548 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:34.549 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:34.550 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:34.550 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:34.551 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:34.558 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:36:34.559 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:34.559 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:34.588 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:34.588 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:36:34.589 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:34.589 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:34.736 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:34.737 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:34.740 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:34.740 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:34.740 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:34.740 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:36:34.740 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:34.741  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:34.741 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:34.749 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:34.751 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:34.751 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:34.754 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:34.754 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:39.649 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?pageSize=1000&page=0&size=1000
2025-05-05 20:36:39.650 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:39.652 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:39.681 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?pageSize=1000&page=0&size=1000] with attributes [authenticated]
2025-05-05 20:36:39.682 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?pageSize=1000&page=0&size=1000
2025-05-05 20:36:39.682 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?pageSize=1000&page=0&size=1000", parameters={masked}
2025-05-05 20:36:39.683 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-05 20:36:39.728 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:39.729 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=1000, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, i (truncated)...]
2025-05-05 20:36:39.730 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:39.731 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.208 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=checked-in&exactDate=checkOut&date=2025-05-05
2025-05-05 20:36:43.208 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:36:43.209 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.210 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.213 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.213 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.214 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.214 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=checked-in&exactDate=checkOut&date=2025-05-05] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.214 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:36:43.214 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=checked-in&exactDate=checkOut&date=2025-05-05
2025-05-05 20:36:43.214 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:36:43.215 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=checked-in&exactDate=checkOut&date=2025-05-05", parameters={masked}
2025-05-05 20:36:43.215 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:43.215 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:43.215  INFO 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:43.215 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:43.216  INFO 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: checked-in, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:43.216 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:43.228  WARN 34668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Invalid reservation status string provided for getAllReservations: checked-in
2025-05-05 20:36:43.229 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:36:43.231 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.232 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:43.232 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.232 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.237 DEBUG 34668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:36:43.240 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.241 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:43.242 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.243 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.404 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:36:43.404 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.407 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.407 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.407 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:36:43.407 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:36:43.407 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:36:43.409 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:36:43.409 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.411 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:43.411 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.412 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.413 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.413 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:36:43.413 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:36:43.413 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:36:43.414 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.414 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.414 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:43.414 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:36:43.414 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:43.415  INFO 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:43.415 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:43.423 DEBUG 34668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:43.425 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.425 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:43.426 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.426 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.437 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.445 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:36:43.446 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.446 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.461 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.461 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:36:43.462 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.462 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.508 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:36:43.508 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.510 DEBUG 34668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.510 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.510 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:36:43.511 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:36:43.511 DEBUG 34668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:36:43.514 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:36:43.514 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.516 DEBUG 34668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.516 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.517 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:36:43.517 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:36:43.517 DEBUG 34668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:36:43.520 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:43.520 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.522 DEBUG 34668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.522 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.522 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:43.522 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:36:43.522 DEBUG 34668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:43.523  INFO 34668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:43.523 DEBUG 34668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:43.527 DEBUG 34668 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:43.529 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.529 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:43.531 DEBUG 34668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.531 DEBUG 34668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.532 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.537 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:36:43.537 DEBUG 34668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.538 DEBUG 34668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.552 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.552 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:36:43.552 DEBUG 34668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.553 DEBUG 34668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.569 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:43.569 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.572 DEBUG 34668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.573 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.573 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:43.573 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:36:43.573 DEBUG 34668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:43.574  INFO 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:43.574 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:43.580 DEBUG 34668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:43.582 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.582 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:43.583 DEBUG 34668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.583 DEBUG 34668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:43.632 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:43.632 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:43.634 DEBUG 34668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:43.635 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:43.635 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:43.635 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:36:43.635 DEBUG 34668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:43.636  INFO 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:43.636 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:43.643 DEBUG 34668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:43.645 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:43.645 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:43.646 DEBUG 34668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:43.646 DEBUG 34668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:57.073 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-05 20:36:57.074 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:57.077 DEBUG 34668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:57.077 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:57.078 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-05 20:36:57.078 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-05 20:36:57.078 DEBUG 34668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:57.079  INFO 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:57.079 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:36:57.086 DEBUG 34668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:36:57.088 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:57.088 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:57.089 DEBUG 34668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:57.089 DEBUG 34668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:57.238 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:36:57.238 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:57.241 DEBUG 34668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:57.242 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:57.242 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:36:57.242 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:36:57.242 DEBUG 34668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:36:57.258 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:36:57.258 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:57.261 DEBUG 34668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:57.261 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:57.261 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:36:57.261 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:36:57.262 DEBUG 34668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:36:57.262 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:57.262 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:57.265 DEBUG 34668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:57.266 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:57.266 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:36:57.267 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:36:57.267 DEBUG 34668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:57.268  INFO 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:57.268 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:57.274 DEBUG 34668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:57.276 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:57.276 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:57.277 DEBUG 34668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:57.277 DEBUG 34668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:57.280 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:57.286 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:36:57.287 DEBUG 34668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:57.287 DEBUG 34668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:57.293 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:57.293 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:36:57.294 DEBUG 34668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:57.294 DEBUG 34668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:36:57.389 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:57.390 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:36:57.392 DEBUG 34668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:36:57.393 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:36:57.393 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:36:57.393 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:36:57.393 DEBUG 34668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:36:57.394  INFO 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:36:57.395 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:36:57.403 DEBUG 34668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:36:57.405 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:36:57.405 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:36:57.406 DEBUG 34668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:36:57.406 DEBUG 34668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:37:19.799  INFO 34668 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 20:37:19.975  INFO 34668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 20:37:20.041  INFO 34668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 20:37:43.898  INFO 37440 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 37440 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 20:37:43.903 DEBUG 37440 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 20:37:43.904  INFO 37440 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 20:37:45.815  INFO 37440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 20:37:46.406  INFO 37440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 573 ms. Found 19 JPA repository interfaces.
2025-05-05 20:37:47.672  INFO 37440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 20:37:47.675  INFO 37440 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 20:37:47.676  INFO 37440 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 20:37:47.677  INFO 37440 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 20:37:47.752  INFO 37440 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 20:37:47.780  INFO 37440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 20:37:47.781  INFO 37440 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 20:37:48.209  INFO 37440 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 20:37:48.211  INFO 37440 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4203 ms
2025-05-05 20:37:49.024  INFO 37440 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 20:37:49.215  INFO 37440 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 20:37:49.605  INFO 37440 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 20:37:49.828  INFO 37440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 20:37:50.396  INFO 37440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 20:37:50.424  INFO 37440 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 20:37:52.952  INFO 37440 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 20:37:52.971  INFO 37440 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 20:37:53.908 DEBUG 37440 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 20:37:53.909 DEBUG 37440 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 20:37:56.042 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 20:37:56.055 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 20:37:56.055 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 20:37:56.056 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 20:37:56.057 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 20:37:56.057 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 20:37:56.057 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 20:37:56.057 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 20:37:56.058 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 20:37:56.058 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 20:37:56.058 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 20:37:56.058 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 20:37:56.058 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 20:37:56.059 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 20:37:56.059 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 20:37:56.060 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 20:37:56.060 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 20:37:56.061 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 20:37:56.061 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 20:37:56.061 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 20:37:56.061 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 20:37:56.061 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 20:37:56.061 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 20:37:56.061 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 20:37:56.062 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 20:37:56.062 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 20:37:56.062 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 20:37:56.062 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 20:37:56.063 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 20:37:56.063 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 20:37:56.063 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 20:37:56.063 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 20:37:56.064 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 20:37:56.064 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 20:37:56.064 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 20:37:56.064 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 20:37:56.067 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 20:37:56.067 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 20:37:56.067 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 20:37:56.067 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 20:37:56.068 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 20:37:56.068 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 20:37:56.069 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 20:37:56.069 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 20:37:56.069 DEBUG 37440 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 20:37:56.078  INFO 37440 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62682ece, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c83e9ca, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f51d1cc, org.springframework.security.web.header.HeaderWriterFilter@6eaf6ced, org.springframework.web.filter.CorsFilter@712213ed, org.springframework.security.web.authentication.logout.LogoutFilter@f776b4a, com.hotel.config.JwtAuthenticationFilter@1256925b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@359fd0a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30b075b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c0ecdbf, org.springframework.security.web.session.SessionManagementFilter@53b579d2, org.springframework.security.web.access.ExceptionTranslationFilter@627ad446, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c3a767]
2025-05-05 20:37:56.143  WARN 37440 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 20:37:56.357 DEBUG 37440 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 20:37:56.394  INFO 37440 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 20:37:56.507 DEBUG 37440 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 20:37:56.516 DEBUG 37440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 20:37:56.544 DEBUG 37440 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 20:37:56.560 DEBUG 37440 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 20:37:56.909  INFO 37440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 20:37:56.923  INFO 37440 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 14.052 seconds (JVM running for 15.702)
2025-05-05 20:38:40.842  INFO 37440 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 20:38:40.843  INFO 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 20:38:40.843 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 20:38:40.843 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 20:38:40.843 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 20:38:40.844 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3dceec83
2025-05-05 20:38:40.846 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@16448827
2025-05-05 20:38:40.846 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 20:38:40.846  INFO 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-05 20:38:40.874 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:38:40.889 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:41.074 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:41.105 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:41.106 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:38:41.110 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7", parameters={masked}
2025-05-05 20:38:41.122 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:38:41.195  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: 	 安师大, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:38:41.195 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:38:41.275 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:38:41.447 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:41.448 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:38:41.528 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:41.531 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:41.656 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:38:41.657 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:41.657 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:38:41.657 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:41.661 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:38:41.662 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:41.665 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:41.666 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:41.667 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:38:41.667 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:38:41.668 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:38:41.668 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:41.669 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:41.671 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:38:41.671 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:41.671 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:38:41.672 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:41.672 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:38:41.672 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:38:41.673 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:38:41.674 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:38:41.675  INFO 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:38:41.676 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:38:41.700 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:38:41.706 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:41.707 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:38:41.712 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:41.713 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:41.763 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:41.795 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:38:41.834 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:41.835 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:41.886 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:38:41.887 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:41.895 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:41.897 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:41.897 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:38:41.898 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:38:41.899 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:38:41.900  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:38:41.901 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:38:41.907 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:41.907 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:38:41.911 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:41.912 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:41.916 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:38:41.920 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:41.921 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:38:41.923 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:41.924 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:43.862 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:38:43.863 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:43.870 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:43.871 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:43.872 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:38:43.873 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7", parameters={masked}
2025-05-05 20:38:43.874 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:38:43.876  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: 	 安师大, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:38:43.877 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:38:43.891 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:38:43.896 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:43.897 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:38:43.900 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:43.900 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:43.981 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:38:43.982 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:43.989 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:43.990 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:43.990 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:38:43.991 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:38:43.991 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:38:43.993 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:38:43.994 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:43.996 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:38:43.997 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:44.003 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:44.004 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:44.004 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:38:44.005 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:38:44.006 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:44.006 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:38:44.007 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:44.007 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:38:44.007 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:38:44.008 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:38:44.010  INFO 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:38:44.010 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:38:44.022 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:38:44.026 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:44.027 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:38:44.030 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:44.030 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:44.041 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:44.052 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:38:44.056 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:44.056 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:44.088 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:44.088 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:38:44.091 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:44.091 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:38:44.102 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:38:44.102 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:38:44.110 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:38:44.111 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:38:44.112 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:38:44.112 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:38:44.113 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:38:44.114  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:38:44.114 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:38:44.124 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:38:44.126 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:38:44.127 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:38:44.130 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:38:44.131 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:00.995 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:00.996 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:01.004 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:01.005 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:01.005 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:01.005 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7", parameters={masked}
2025-05-05 20:39:01.005 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:01.007  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: 	 安师大, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:01.008 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:39:01.019 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:39:01.024 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:01.024 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:01.028 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:01.028 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:01.225 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:39:01.225 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:01.231 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:39:01.231 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:01.235 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:01.236 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:01.237 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:39:01.237 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:39:01.238 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:39:01.241 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:01.243 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:01.243 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:39:01.243 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:39:01.243 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:39:01.250 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:01.251 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:01.261 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:01.262 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:01.262 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:01.263 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:39:01.264 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:01.266  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:01.266 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:01.275 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:01.280 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:01.283 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:01.286 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:01.286 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:01.306 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:01.316 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:39:01.321 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:01.321 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:01.348 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:01.348 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:39:01.350 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:01.350 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:01.358 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:01.358 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:01.364 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:01.364 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:01.364 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:01.365 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:39:01.365 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:01.366  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:01.366 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:01.374 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:01.377 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:01.378 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:01.380 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:01.380 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:05.805 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:05.806 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:05.814 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:05.815 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:05.815 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:05.816 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending&guestName=%09+%E5%AE%89%E5%B8%88%E5%A4%A7", parameters={masked}
2025-05-05 20:39:05.816 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:05.817  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: 	 安师大, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:05.818 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:39:05.829 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:39:05.833 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:05.834 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:05.837 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:05.838 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:05.990 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:39:05.990 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:06.000 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:06.000 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:06.001 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:39:06.001 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:39:06.001 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:39:06.008 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:06.009 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:39:06.009 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:06.009 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:06.015 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:06.016 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:06.017 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:06.017 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:06.017 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:39:06.017 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:06.017 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:39:06.018 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:39:06.018 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:39:06.018 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:06.020  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:06.020 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:06.030 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:06.033 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:06.034 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:06.039 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:06.044 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:06.064 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:06.078 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:39:06.080 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:06.080 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:06.101 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:06.101 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:39:06.103 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:06.103 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:06.126 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:06.127 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:06.132 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:06.133 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:06.134 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:06.134 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:39:06.134 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:06.135  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:06.136 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:06.145 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:06.148 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:06.148 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:06.150 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:06.150 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:17.433 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:39:17.433 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:17.435 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:39:17.435 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:17.441 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:17.441 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:17.441 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:39:17.442 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:39:17.442 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:17.443 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:17.445  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:17.445 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:39:17.449 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:39:17.449 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:39:17.449 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:39:17.450 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:39:17.461 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:39:17.466 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:17.466 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:17.470 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:17.470 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:17.520 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:17.520 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:39:17.525 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:17.526 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:18.285 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:39:18.285 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:18.286 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:18.286 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:18.290 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:39:18.293 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:18.293 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:39:18.294 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:18.295 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:39:18.296  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:18.297 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:18.303 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:18.304 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:18.305 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:39:18.305 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:39:18.305 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:18.309 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:39:18.311 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:18.312 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:18.314 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:18.314 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:18.335 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:18.348 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:39:18.350 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:18.351 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:18.435 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:18.436 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:39:18.438 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:18.438 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:18.604 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:18.604 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:18.611 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:18.611 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:18.612 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:18.612 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:39:18.612 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:18.614  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:18.614 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:18.624 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:18.627 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:18.629 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:18.632 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:18.632 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:19.028 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:39:19.029 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:19.036 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:19.037 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:19.037 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:39:19.038 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:39:19.038 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:19.039  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:19.040 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:39:19.054 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:39:19.057 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:19.058 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:19.059 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:19.060 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:19.075 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:39:19.075 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:19.081 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:19.082 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:39:19.082 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:39:19.083 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:39:19.083 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:39:19.123 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:19.123 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:39:19.126 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:19.126 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:19.542 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:39:19.543 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:19.545 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:39:19.545 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:19.550 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:19.551 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:19.551 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:39:19.551 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:39:19.552 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:39:19.553 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:19.554 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:19.554 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:39:19.554 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:39:19.555 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:39:19.583 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:19.593 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:39:19.595 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:19.596 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:19.627 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:19.627 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:19.633 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:19.633 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:39:19.636 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:19.636 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:19.637 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:19.638 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:19.638 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:19.639 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:39:19.639 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:19.640  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:19.641 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:19.652 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:19.655 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:19.656 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:19.656 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:19.657 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:19.658 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:19.658 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:19.666 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:19.667 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:19.667 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:19.668 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:39:19.669 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:19.670  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:19.670 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:19.680 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:19.684 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:19.684 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:19.686 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:19.686 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:26.724 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:26.725 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:26.733 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:26.734 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:26.734 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:26.736 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7", parameters={masked}
2025-05-05 20:39:26.737 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:26.738  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 安师大, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:26.738 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:39:26.760 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:39:26.766 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:26.767 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:26.769 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:26.769 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:27.095 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:39:27.095 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:27.102 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:27.103 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:27.104 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:39:27.104 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:39:27.105 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:39:27.121 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:39:27.121 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:27.122 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:27.122 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:27.127 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:27.128 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:27.128 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:27.128 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:27.129 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:39:27.128 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:27.129 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:39:27.129 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:27.129 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:39:27.129 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:39:27.131  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:27.131 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:27.138 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:27.143 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:27.143 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:27.145 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:27.146 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:27.170 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:27.181 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:39:27.183 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:27.183 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:27.188 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:27.188 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:39:27.192 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:27.192 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:27.245 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:27.245 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:27.253 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:27.254 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:27.254 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:27.254 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:39:27.255 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:27.258  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:27.258 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:27.270 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:27.273 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:27.273 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:27.275 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:27.275 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:49.653 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:49.654 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:49.661 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:49.661 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:49.662 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7
2025-05-05 20:39:49.662 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%AE%89%E5%B8%88%E5%A4%A7", parameters={masked}
2025-05-05 20:39:49.662 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:49.663  INFO 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 安师大, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:49.664 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:39:49.676 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:39:49.680 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:49.681 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:49.683 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:49.683 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:50.006 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:39:50.007 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:50.010 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:39:50.011 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:50.012 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:50.012 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:50.012 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:50.012 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:50.012 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:39:50.013 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:39:50.013 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:39:50.016 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:50.017 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:50.017 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:39:50.017 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:39:50.017 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:39:50.017 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:50.018 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:50.018 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:39:50.019 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:39:50.019 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:50.020  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:50.020 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:50.028 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:50.031 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:50.031 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:50.032 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:50.033 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:50.039 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:50.047 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:39:50.048 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:50.049 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:50.073 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:50.073 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:39:50.074 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:50.075 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:39:50.150 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:50.151 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:39:50.155 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:39:50.156 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:39:50.156 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:39:50.156 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:39:50.156 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:39:50.157  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:39:50.158 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:39:50.167 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:39:50.173 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:39:50.174 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:39:50.175 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:39:50.176 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:42:20.478 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:42:20.478 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:42:20.479 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:42:20.480 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:42:20.484 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:42:20.484 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:42:20.485 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:42:20.486  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:42:20.487 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:42:20.496 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:42:20.498 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:42:20.500 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:42:20.501 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:42:20.502 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:42:20.511 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:42:20.512 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:42:20.514 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:42:20.514 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:42:21.213 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:42:21.213 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:42:21.215 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:42:21.216 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:42:21.220 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:42:21.221 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:42:21.221 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:42:21.221 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:42:21.221 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:42:21.221 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:42:21.221 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:42:21.221 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:42:21.222 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:42:21.222 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:42:21.231 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:42:21.231 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:42:21.238 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:42:21.239 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:42:21.239 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:42:21.239 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:42:21.240 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:42:21.240  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:42:21.241 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:42:21.247 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:42:21.247 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:42:21.250 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:42:21.250 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:42:21.252 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:42:21.252 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:42:21.254 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:42:21.256 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:42:21.256 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:42:21.286 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:42:21.286 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:42:21.287 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:42:21.288 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:42:21.613 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:42:21.614 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:42:21.621 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:42:21.622 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:42:21.622 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:42:21.623 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:42:21.624 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:42:21.625  INFO 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:42:21.625 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:42:21.634 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:42:21.638 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:42:21.638 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:42:21.640 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:42:21.640 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:23.191 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:43:23.192 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:23.201 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:23.202 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:23.202 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:43:23.203 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:43:23.203 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:43:23.206  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:43:23.206 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:43:23.211 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:43:23.211 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:23.220 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:23.221 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:43:23.222 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:43:23.223 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:43:23.223 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:43:23.244 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:43:23.247 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:23.248 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:43:23.250 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:23.251 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:23.265 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:23.265 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:43:23.268 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:23.269 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:24.368 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:43:24.368 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:24.374 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:24.375 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:24.376 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:43:24.376 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:43:24.377 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:43:24.406 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:43:24.406 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:43:24.406 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:24.406 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:24.413 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:24.414 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:24.415 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:43:24.415 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:24.416 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:43:24.416 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:24.416 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:43:24.416 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:43:24.416 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:43:24.417 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:43:24.418  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:43:24.418 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:43:24.424 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:43:24.427 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:24.428 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:43:24.431 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:24.431 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:24.458 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:24.471 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:43:24.475 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:24.476 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:24.532 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:24.533 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:43:24.535 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:24.535 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:24.620 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:43:24.621 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:24.628 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:24.628 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:24.629 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:43:24.630 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:43:24.630 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:43:24.632  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:43:24.632 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:43:24.644 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:43:24.651 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:24.652 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:43:24.654 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:24.655 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:25.386 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:43:25.386 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:25.391 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:43:25.391 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:25.395 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:25.396 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:25.396 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:43:25.397 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:43:25.397 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:43:25.398 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:25.399  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:43:25.399 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:43:25.399 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:43:25.399 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:43:25.400 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:43:25.400 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:43:25.413 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:43:25.417 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:25.418 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:43:25.422 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:25.422 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:25.435 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:25.435 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:43:25.437 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:25.437 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:25.939 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:43:25.940 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:25.943 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:43:25.943 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:25.943 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:43:25.944 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:25.949 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:25.949 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:25.950 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:25.950 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:25.951 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:43:25.951 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:43:25.951 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:25.951 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:43:25.952 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:43:25.952 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:43:25.952 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:25.952 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:43:25.952 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:43:25.952 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:43:25.954 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:43:25.956  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:43:25.956 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:43:25.965 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:43:25.969 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:25.970 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:43:25.973 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:25.973 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:26.024 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:26.034 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:43:26.037 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:26.037 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:26.057 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:26.057 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:43:26.059 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:26.060 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:43:26.119 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:43:26.119 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:43:26.127 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:43:26.128 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:43:26.128 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:43:26.129 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:43:26.130 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:43:26.132  INFO 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:43:26.133 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:43:26.144 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:43:26.149 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:43:26.151 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:43:26.153 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:43:26.154 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:44:34.917 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:44:34.917 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:44:34.926 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:44:34.927 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:44:34.927 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:44:34.931 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:44:34.931 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:44:34.932 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:44:34.932 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:44:34.935 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:44:34.937 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:44:34.937 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:44:34.937 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:44:34.993 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:44:35.017 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:44:35.018 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:44:35.018 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:44:35.036 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:44:35.036 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:44:35.038 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:44:35.038 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:44:35.039 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:44:35.042 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:44:35.060 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:44:35.060 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:44:35.198 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:44:35.198 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:44:35.205 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:44:35.205 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:45:02.699 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:45:02.700 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:45:02.707 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:45:02.707 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:45:02.707 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:45:02.708 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:45:02.709 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:45:02.710 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:45:02.710 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:45:02.717 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:45:02.719 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:45:02.719 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:45:02.719 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:45:02.720 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:45:02.720 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:45:02.721 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:45:02.723 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:45:02.723 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:45:02.746 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:45:02.747 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:45:02.748 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:45:02.748 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:45:02.749 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:45:02.749 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:45:02.749 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:45:02.749 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:45:02.751 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:45:02.756 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:45:02.757 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:45:58.540 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/room/203/verify
2025-05-05 20:45:58.541 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:45:58.548 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:45:58.549 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/room/203/verify] with attributes [authenticated]
2025-05-05 20:45:58.550 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/room/203/verify
2025-05-05 20:45:58.550 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/room/203/verify", parameters={}
2025-05-05 20:45:58.552 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:45:58.562 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:45:58.563 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:45:58.563 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:45:58.564 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:45:58.565 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:45:58.565 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:45:58.565 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:45:58.565 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:45:58.566 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:45:58.572 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:45:58.572 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:00.763 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/room/203/verify
2025-05-05 20:46:00.763 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:00.769 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:00.770 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/room/203/verify] with attributes [authenticated]
2025-05-05 20:46:00.770 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/room/203/verify
2025-05-05 20:46:00.771 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/room/203/verify", parameters={}
2025-05-05 20:46:00.772 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:46:00.774 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:46:00.774 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:46:00.775 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:00.775 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:46:00.776 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:00.776 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:46:00.777 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:46:00.777 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:46:00.778 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:46:00.783 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:46:00.784 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:05.306 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:46:05.306 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:05.311 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:05.311 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:46:05.311 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:05.312 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:05.312 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:46:05.312 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:46:05.313 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:05.314  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:05.314 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:05.317 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:05.318 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:46:05.318 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:46:05.318 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:46:05.319 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:46:05.345 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:05.347 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:46:05.348 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:05.348 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:05.349 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:05.352 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:05.352 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:05.373 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:05.374 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:05.537 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:05.537 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:05.542 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:05.543 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:05.543 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:05.543 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:05.543 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:05.543 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:05.544 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:05.544 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:05.545 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:05.672 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:05.673 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:05.673 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:05.673 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:05.673 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:05.673 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:05.673 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:05.673 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:05.674 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:05.674 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:05.675  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:05.675 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:05.682 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:05.685 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:05.685 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:05.687 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:05.688 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:05.695 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:05.704 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:05.705 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:05.706 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:05.722 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:05.722 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:05.723 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:05.724 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:05.867 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:05.867 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:05.874 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:05.875 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:05.875 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:05.875 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:05.876 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:05.877  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:05.877 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:05.886 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:05.889 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:05.890 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:05.892 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:05.893 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:16.989 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:16.990 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:16.994 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:16.994 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:16.994 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:16.995 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 20:46:16.995 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:16.996  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:16.996 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:17.005 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:17.006 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:17.006 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:17.007 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:17.008 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:17.117 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:17.117 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:17.118 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:17.118 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:17.118 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:17.118 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:17.121 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:17.121 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:17.121 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:17.121 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:17.121 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:17.122 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:17.122 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:17.122 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:17.122 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:17.122 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:17.123 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:17.123 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:17.123 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:17.123 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:17.123 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:17.124  INFO 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:17.124 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:17.130 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:17.132 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:17.132 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:17.133 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:17.134 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:17.141 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:17.147 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:17.148 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:17.149 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:17.179 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:17.179 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:17.180 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:17.180 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:17.214 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:17.215 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:17.218 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:17.219 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:17.219 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:17.219 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:17.220 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:17.221  INFO 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:17.221 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:17.228 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:17.230 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:17.230 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:17.231 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:17.232 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:19.087 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:19.088 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:19.092 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:19.092 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:19.093 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:19.093 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 20:46:19.093 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:19.095  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:19.096 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:19.105 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:19.108 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:19.109 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:19.111 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:19.111 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:19.207 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:19.207 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:19.211 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:19.212 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:19.212 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:19.212 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:19.212 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:19.212 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:19.212 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:19.213 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:19.214 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:19.218 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:19.219 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:19.219 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:19.219 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:19.219 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:19.221 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:19.222 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:19.222 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:19.222 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:19.222 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:19.224  INFO 37440 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:19.224 DEBUG 37440 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:19.232 DEBUG 37440 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:19.235 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:19.235 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:19.237 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:19.237 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:19.240 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:19.250 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:19.252 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:19.253 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:19.274 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:19.275 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:19.276 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:19.276 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:19.306 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:19.307 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:19.312 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:19.313 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:19.314 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:19.314 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:19.315 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:19.317  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:19.317 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:19.324 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:19.326 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:19.326 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:19.329 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:19.329 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:22.266 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:22.267 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:22.271 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:22.272 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:22.272 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:22.273 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 20:46:22.273 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:22.275  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:22.276 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:22.285 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:22.288 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:22.288 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:22.289 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:22.289 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:22.374 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:22.374 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:22.375 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:22.375 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:22.378 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:22.378 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:22.379 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:22.379 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:22.379 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:22.379 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:22.379 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:22.380 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:22.380 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:22.381 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:22.381 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:22.381 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:22.385 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:22.386 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:22.386 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:22.386 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:22.387 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:22.388  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:22.388 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:22.393 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:22.394 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:22.395 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:22.397 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:22.397 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:22.398 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:22.404 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:22.406 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:22.406 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:22.424 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:22.424 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:22.425 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:22.425 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:22.468 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:22.468 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:22.471 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:22.472 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:22.472 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:22.472 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:22.472 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:22.473  INFO 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:22.473 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:22.478 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:22.480 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:22.480 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:22.481 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:22.481 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:23.340 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:23.341 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:23.345 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:23.345 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:23.345 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:23.346 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 20:46:23.346 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:23.347  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:23.347 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:23.361 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:23.363 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:23.363 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:23.365 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:23.365 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:23.456 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:23.457 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:23.462 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:23.463 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:23.464 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:23.464 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:23.464 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:23.467 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:23.467 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:23.467 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:23.468 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:23.471 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:23.472 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:23.472 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:23.472 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:23.472 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:23.472 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:23.473 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:23.473 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:23.473 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:23.473 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:23.474  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:23.474 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:23.482 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:23.484 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:23.484 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:23.486 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:23.486 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:23.491 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:23.498 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:23.500 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:23.501 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:23.518 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:23.518 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:23.519 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:23.519 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:23.577 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:23.577 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:23.581 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:23.582 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:23.582 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:23.582 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:23.582 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:23.584  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:23.584 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:23.592 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:23.595 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:23.596 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:23.597 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:23.597 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:27.381 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:46:27.382 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:27.382 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:46:27.382 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:27.386 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:27.386 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:27.387 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:46:27.387 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:46:27.387 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:27.388 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:46:27.387 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:27.388 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:46:27.389 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:46:27.389 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:46:27.389  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:27.389 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:27.400 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:27.402 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:27.402 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:27.404 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:27.404 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:27.416 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:27.417 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:46:27.419 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:27.420 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:27.971 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:27.971 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:27.973 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:27.973 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:27.975 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:27.975 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:27.975 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:27.976 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:27.976 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:27.977 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:27.977 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:27.978 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:27.979 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:27.979 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:27.980 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:27.980 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:27.982 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:27.982 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:27.982 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:27.983 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:27.983 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:27.985  INFO 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:27.985 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:27.995 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:27.997 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:27.997 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:27.999 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:27.999 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:28.007 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:28.019 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:28.021 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:28.022 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:28.051 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:28.051 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:28.053 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:28.053 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:28.206 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:28.207 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:28.212 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:28.212 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:28.212 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:28.212 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:28.213 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:28.214  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:28.215 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:28.225 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:28.228 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:28.230 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:28.232 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:28.233 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:33.859 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:33.859 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:33.863 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:33.864 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:33.864 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:33.865 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 20:46:33.866 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:33.868  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:33.868 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:33.880 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:33.882 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:33.883 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:33.884 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:33.887 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:33.997 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:33.998 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:33.999 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:33.999 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:34.003 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:34.004 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:34.004 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:34.004 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:34.004 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:34.004 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:34.004 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:34.004 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:34.005 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:34.005 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:34.006 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:34.006 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:34.010 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:34.011 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:34.011 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:34.011 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:34.011 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:34.012  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:34.012 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:34.020 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:34.023 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:34.023 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:34.024 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:34.025 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:34.026 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:34.035 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:34.036 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:34.036 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:34.061 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:34.061 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:34.062 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:34.062 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:34.181 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:34.181 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:34.186 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:34.187 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:34.187 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:34.187 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:34.188 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:34.190  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:34.190 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:34.196 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:34.199 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:34.199 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:34.202 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:34.203 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:41.966 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:41.967 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:41.971 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:41.971 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:41.972 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 20:46:41.973 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 20:46:41.973 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:41.975  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 20:46:41.975 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:41.987 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:41.990 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:41.991 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:41.993 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:41.995 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:42.105 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:42.106 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:42.110 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:42.110 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:42.111 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:42.111 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:42.111 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:42.112 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:42.113 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:42.118 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:42.118 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:42.119 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:42.119 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:42.119 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:42.120 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:42.120 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:42.126 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:42.126 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:42.127 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:42.127 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:42.127 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:42.129  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:42.129 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:42.136 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:42.138 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:42.138 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:42.140 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:42.140 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:42.141 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:42.149 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:42.151 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:42.151 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:42.170 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:42.170 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:42.171 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:42.171 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:42.220 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:42.221 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:42.227 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:42.227 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:42.227 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:42.228 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:42.228 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:42.229  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:42.229 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:42.237 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:42.240 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:42.241 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:42.242 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:42.242 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:44.326 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 20:46:44.327 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:44.332 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:44.333 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:44.333 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 20:46:44.333 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1", parameters={masked}
2025-05-05 20:46:44.334 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:44.335  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 20:46:44.335 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:44.344 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:44.346 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:44.346 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:44.348 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:44.348 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:44.438 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:44.439 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:44.439 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:44.441 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:44.443 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:44.444 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:44.444 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:44.444 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:44.444 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:44.444 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:44.444 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:44.445 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:44.445 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:44.448 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:44.448 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:44.449 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:44.449 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:44.450 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:44.450 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:44.450 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:44.450 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:44.451  INFO 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:44.452 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:44.458 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:44.460 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:44.460 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:44.461 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:44.461 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:44.467 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:44.475 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:44.475 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:44.476 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:44.494 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:44.494 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:44.495 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:44.495 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:44.495 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:44.495 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:44.502 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:44.502 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:44.503 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:44.503 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:44.503 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:44.504  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:44.504 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:44.512 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:44.514 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:44.515 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:44.516 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:44.517 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:44.980 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 20:46:44.981 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:44.984 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:44.984 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:44.985 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 20:46:44.985 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1", parameters={masked}
2025-05-05 20:46:44.985 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:44.986  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 20:46:44.987 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:44.998 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:45.000 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.001 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:45.003 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.003 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.104 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:45.105 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.110 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.111 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.111 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:45.111 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:45.112 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:45.119 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:45.119 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.121 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:45.121 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.124 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.125 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.125 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:45.125 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.125 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:45.128 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:45.128 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.129 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:45.130 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:45.130 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:45.131  INFO 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:45.131 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:45.135 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 20:46:45.135 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.138 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:45.140 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.140 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:45.142 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.143 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.152 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.153 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.153 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.154 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 20:46:45.154 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1", parameters={masked}
2025-05-05 20:46:45.154 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:45.155  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 20:46:45.155 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:45.162 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:45.163 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.163 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.176 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.177 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:45.177 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:45.178 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.179 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.181 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.182 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:45.185 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.185 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.221 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:45.222 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.227 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.229 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.229 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:45.229 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:45.230 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:45.231  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:45.231 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:45.239 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:45.241 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.242 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:45.246 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.247 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.337 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:45.337 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.338 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:45.339 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:45.339 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.339 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.348 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.349 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.349 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:45.353 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.510 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:45.510 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.510 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:45.356 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.515 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.515 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:45.515 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:45.515 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:45.511 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:45.519  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:45.522 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:45.522 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:45.523 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:45.534 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:45.538 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.541 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:45.543 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.543 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.575 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.594 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:45.596 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.596 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.624 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.624 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:45.626 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.627 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:45.648 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:45.648 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:45.655 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:45.657 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:45.658 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:45.658 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:45.658 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:45.661  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:45.662 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:45.674 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:45.677 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:45.678 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:45.679 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:45.680 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:48.213 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=pending
2025-05-05 20:46:48.214 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:48.221 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:48.222 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:48.222 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=pending
2025-05-05 20:46:48.222 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=pending", parameters={masked}
2025-05-05 20:46:48.223 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:48.224  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 20:46:48.225 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:48.233 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=7, TotalPages=1
2025-05-05 20:46:48.236 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:48.236 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:48.238 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:48.239 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:48.387 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:48.387 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:48.393 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:48.393 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:48.393 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:48.394 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:48.394 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:48.400 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:48.401 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:48.404 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:48.404 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:48.408 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:48.409 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:48.410 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:48.410 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:48.410 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:48.411 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:48.411 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:48.412 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:48.412 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:48.413 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:48.414  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:48.415 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:48.422 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:48.424 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:48.425 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:48.427 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:48.427 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:48.435 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:48.445 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:48.448 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:48.448 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:48.468 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:48.468 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:48.470 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:48.470 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:48.523 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:48.523 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:48.530 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:48.531 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:48.532 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:48.532 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:48.532 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:48.535  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:48.537 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:48.546 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:48.549 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:48.551 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:48.555 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:48.556 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:52.377 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in
2025-05-05 20:46:52.377 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:52.382 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:52.382 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:52.382 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in
2025-05-05 20:46:52.383 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=checked-in", parameters={masked}
2025-05-05 20:46:52.383 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:52.384  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: checked-in, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 20:46:52.385 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:52.386  WARN 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Invalid reservation status string provided for getAllReservations: checked-in
2025-05-05 20:46:52.393 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:46:52.396 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:52.396 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:52.398 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:52.398 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:52.556 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:52.556 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:52.560 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:52.560 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:52.560 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:52.560 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:52.561 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:52.567 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:52.567 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:52.571 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:52.571 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:52.571 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:52.571 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:52.571 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:52.572 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:52.572 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:52.574 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:52.575 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:52.575 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:52.576 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:52.576 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:52.578  INFO 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:52.578 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:52.585 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:52.587 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:52.588 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:52.589 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:52.589 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:52.590 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:52.598 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:52.600 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:52.600 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:52.616 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:52.616 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:52.617 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:52.617 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:52.727 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:52.727 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:52.731 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:52.732 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:52.732 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:52.733 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:52.733 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:52.734  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:52.735 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:52.741 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:52.744 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:52.745 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:52.746 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:52.747 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:56.090 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=completed
2025-05-05 20:46:56.090 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:56.095 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:56.096 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=completed] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:56.097 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=completed
2025-05-05 20:46:56.097 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=completed", parameters={masked}
2025-05-05 20:46:56.097 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:56.098  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: completed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 20:46:56.099 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:46:56.104 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=6, TotalPages=1
2025-05-05 20:46:56.106 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:56.107 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:56.109 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:56.110 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:56.250 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:46:56.251 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:56.253 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:46:56.254 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:56.255 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:56.257 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:56.257 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:56.257 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:56.257 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:46:56.257 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:46:56.257 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:46:56.260 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:56.260 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:56.260 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:56.261 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:56.261 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:46:56.261 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:46:56.261 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:46:56.261 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:46:56.261 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:56.261 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:46:56.262  INFO 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:56.262 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:56.271 DEBUG 37440 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:56.274 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:56.274 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:56.275 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:56.276 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:56.285 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:56.294 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:46:56.296 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:56.296 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:56.323 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:56.324 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:46:56.325 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:56.325 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:46:56.370 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:56.371 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:46:56.375 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:46:56.376 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:46:56.377 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:46:56.377 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:46:56.377 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:46:56.379  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:46:56.379 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:46:56.390 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:46:56.392 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:46:56.393 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:46:56.395 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:46:56.395 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:47:22.537 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:47:22.537 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:47:22.541 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:47:22.542 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:47:22.542 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:47:22.543 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:47:22.544 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:47:22.545 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:47:22.545 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:47:22.549 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:47:22.550 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:47:22.550 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:47:22.550 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:47:22.551 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:47:22.551 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:47:22.551 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:47:22.551 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:47:22.552 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:47:22.555 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:47:22.555 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:47:22.555 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:47:22.555 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:47:22.556 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:47:22.556 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:47:22.556 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:47:22.556 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:47:22.556 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:47:22.563 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:47:22.564 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:48:01.037 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:48:01.038 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:48:01.042 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:48:01.043 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:48:01.043 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:48:01.044 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:48:01.044 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:48:01.044 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:48:01.045 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:48:01.047 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:48:01.048 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:48:01.048 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:48:01.048 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:48:01.049 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:48:01.050 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:48:01.051 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:48:01.053 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:48:01.053 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:48:01.055 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:48:01.055 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:48:01.055 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:48:01.056 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:48:01.056 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:48:01.056 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:48:01.056 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:48:01.057 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:48:01.058 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:48:01.063 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:48:01.063 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:41.451 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:49:41.452 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:41.458 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:41.459 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:41.459 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:49:41.460 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:49:41.460 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:49:41.462  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:49:41.462 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:49:41.463 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:49:41.464 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:41.469 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:41.469 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:49:41.470 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:49:41.470 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:49:41.470 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:49:41.474 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:49:41.478 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:41.479 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:49:41.481 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:41.481 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:41.497 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:41.498 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:49:41.498 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:41.499 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:41.778 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:49:41.779 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:41.782 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:41.783 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:41.783 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:49:41.784 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:49:41.784 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:49:41.788 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:49:41.789 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:41.789 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:49:41.789 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:41.792 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:41.793 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:41.793 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:41.793 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:49:41.793 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:49:41.793 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:41.794 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:49:41.794 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:49:41.794 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:49:41.795 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:49:41.795  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:49:41.796 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:49:41.804 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:49:41.806 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:41.807 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:49:41.809 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:41.809 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:41.818 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:41.829 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:49:41.831 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:41.831 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:41.848 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:41.848 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:49:41.849 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:41.850 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:42.041 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:49:42.042 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:42.045 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:42.047 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:42.048 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:49:42.049 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:49:42.049 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:49:42.051  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:49:42.051 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:49:42.057 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:49:42.060 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:42.062 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:49:42.063 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:42.064 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:46.765 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:49:46.766 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:46.766 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:49:46.767 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:46.770 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:46.771 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:46.771 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:46.771 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:49:46.772 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:49:46.772 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:49:46.772 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:49:46.772 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:49:46.772 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:49:46.773 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:49:46.774  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:49:46.774 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:49:46.784 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:49:46.786 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:46.787 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:49:46.789 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:46.789 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:46.802 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:46.802 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:49:46.804 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:46.805 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:47.576 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:49:47.576 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:47.577 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:49:47.577 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:49:47.578 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:47.578 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:47.583 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:47.584 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:47.586 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:47.584 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:47.587 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:47.587 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:49:47.587 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:49:47.588 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:49:47.588 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:47.588 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:49:47.588 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:49:47.588 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:49:47.588 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:49:47.588 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:49:47.589 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:49:47.589  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:49:47.590 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:49:47.599 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:49:47.602 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:47.604 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:49:47.605 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:47.606 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:47.616 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:47.630 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:49:47.632 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:47.632 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:47.686 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:47.687 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:49:47.688 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:47.688 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:49:47.741 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:49:47.741 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:49:47.748 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:49:47.749 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:49:47.749 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:49:47.749 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:49:47.749 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:49:47.751  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:49:47.751 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:49:47.761 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:49:47.765 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:49:47.765 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:49:47.767 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:49:47.767 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:50:04.733 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:50:04.733 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:50:04.735 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:50:04.735 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:50:04.737 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:50:04.738 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:50:04.738 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:50:04.739 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:50:04.740 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:50:04.741  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:50:04.742 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:50:04.742 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:50:04.744 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:50:04.744 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:50:04.745 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:50:04.746 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:50:04.756 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:50:04.759 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:50:04.760 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:50:04.761 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:50:04.762 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:50:04.772 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:50:04.772 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:50:04.773 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:50:04.774 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:50:05.217 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:50:05.217 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:50:05.222 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:50:05.222 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:50:05.222 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:50:05.223 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:50:05.223 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:50:05.222 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:50:05.223 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:50:05.223 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:50:05.223 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:50:05.228 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:50:05.229 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:50:05.229 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:50:05.229 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:50:05.230 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:50:05.230 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:50:05.231 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:50:05.231 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:50:05.232 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:50:05.233 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:50:05.234  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:50:05.234 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:50:05.241 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:50:05.244 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:50:05.244 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:50:05.245 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:50:05.246 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:50:05.252 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:50:05.266 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:50:05.268 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:50:05.268 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:50:05.297 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:50:05.299 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:50:05.300 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:50:05.301 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:50:05.505 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:50:05.505 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:50:05.511 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:50:05.512 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:50:05.512 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:50:05.512 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:50:05.512 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:50:05.514  INFO 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:50:05.514 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:50:05.520 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:50:05.523 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:50:05.523 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:50:05.525 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:50:05.526 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:51:31.209 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:51:31.210 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:51:31.217 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:51:31.218 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:51:31.218 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:51:31.218 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:51:31.219 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:51:31.220  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:51:31.220 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:51:31.222 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:51:31.222 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:51:31.226 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:51:31.226 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:51:31.227 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:51:31.227 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:51:31.227 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:51:31.235 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:51:31.237 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:51:31.238 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:51:31.240 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:51:31.240 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:51:31.258 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:51:31.259 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:51:31.260 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:51:31.260 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:51:31.788 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:51:31.789 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:51:31.790 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:51:31.790 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:51:31.795 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:51:31.796 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:51:31.796 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:51:31.796 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:51:31.797 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:51:31.797 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:51:31.797 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:51:31.797 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:51:31.797 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:51:31.798 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:51:31.800 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:51:31.800 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:51:31.807 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:51:31.808 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:51:31.808 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:51:31.809 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:51:31.809 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:51:31.815  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:51:31.815 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:51:31.823 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:51:31.825 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:51:31.825 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:51:31.825 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:51:31.827 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:51:31.828 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:51:31.835 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:51:31.836 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:51:31.837 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:51:31.865 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:51:31.865 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:51:31.866 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:51:31.867 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:51:31.937 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:51:31.937 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:51:31.940 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:51:31.941 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:51:31.941 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:51:31.942 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:51:31.942 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:51:31.943  INFO 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:51:31.943 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:51:31.953 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:51:31.955 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:51:31.956 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:51:31.959 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:51:31.960 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:02.503 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:53:02.503 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:02.509 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:02.510 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:02.510 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:53:02.510 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:53:02.511 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:02.513  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:02.513 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:53:02.519 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:53:02.520 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:02.524 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:53:02.524 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:02.525 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:53:02.525 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:53:02.525 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:53:02.526 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:53:02.527 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:02.527 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:02.530 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:02.530 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:02.562 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:02.563 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:53:02.565 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:02.565 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:02.924 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:53:02.924 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:02.928 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:02.928 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:53:02.928 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:02.929 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:02.929 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:53:02.929 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:53:02.929 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:53:02.931 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:02.932 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:02.933 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:53:02.933 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:53:02.933 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:02.933 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:02.933 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:53:02.936 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:02.937 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:02.937 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:02.937 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:53:02.938 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:02.938  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:02.939 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:02.944 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:02.946 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:02.946 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:02.947 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:02.948 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:02.951 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:02.960 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:53:02.961 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:02.962 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:02.983 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:02.983 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:53:02.984 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:02.985 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:03.080 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:03.081 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:03.084 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:03.084 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:03.084 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:03.084 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:53:03.085 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:03.085  INFO 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:03.085 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:03.091 DEBUG 37440 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:03.094 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:03.094 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:03.096 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:03.096 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:38.428 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:53:38.428 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:38.433 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:38.435 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:38.435 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:53:38.435 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:53:38.435 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:38.436  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:38.436 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:53:38.445 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:53:38.446 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:38.452 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:38.453 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:53:38.453 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:53:38.453 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:53:38.454 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:53:38.454 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:53:38.456 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:38.456 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:38.457 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:38.458 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:38.480 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:38.481 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:53:38.482 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:38.482 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:38.999 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:53:38.999 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:39.003 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:39.004 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:39.004 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:53:39.004 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:53:39.004 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:53:39.011 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:53:39.011 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:39.015 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:39.016 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:39.016 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:53:39.017 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:53:39.017 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:53:39.020 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:39.020 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:39.023 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:39.024 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:39.025 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:39.026 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:53:39.026 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:39.027  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:39.027 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:39.035 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:39.037 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:39.038 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:39.039 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:39.039 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:39.039 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:39.049 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:53:39.051 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:39.051 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:39.073 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:39.073 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:53:39.074 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:39.074 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:39.152 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:39.153 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:39.156 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:39.156 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:39.156 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:39.157 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:53:39.157 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:39.158  INFO 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:39.158 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:39.167 DEBUG 37440 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:39.169 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:39.169 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:39.170 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:39.170 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:46.819 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:53:46.819 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:46.821 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:53:46.821 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:46.824 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:46.825 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:46.826 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:53:46.826 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:53:46.827 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:46.827 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:46.827 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:53:46.828 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:53:46.829 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:53:46.829  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:46.829 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:53:46.829 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:53:46.839 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:53:46.841 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:46.843 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:46.844 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:46.844 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:46.860 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:46.861 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:53:46.863 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:46.863 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:47.586 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:53:47.586 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:53:47.586 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:47.587 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:47.589 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:47.589 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:47.590 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:47.590 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:47.591 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:47.591 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:47.592 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:53:47.592 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:53:47.592 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:53:47.592 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:53:47.592 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:53:47.592 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:53:47.594 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:47.595 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:47.595 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:47.596 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:53:47.596 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:47.597  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:47.598 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:47.604 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:47.608 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:47.608 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:47.610 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:47.610 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:47.672 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:47.674 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:47.674 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:53:47.675 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:47.676 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:47.681 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:53:47.697 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:47.697 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:47.778 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:47.778 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:47.783 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:47.784 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:47.784 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:47.785 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:53:47.785 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:47.786  INFO 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:47.786 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:47.793 DEBUG 37440 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:47.796 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:47.797 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:47.798 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:47.798 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:48.671 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:53:48.672 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:48.676 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:48.677 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:48.677 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:53:48.678 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:53:48.678 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:48.677 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:53:48.679 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:48.679  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:48.679 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:53:48.682 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:48.682 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:53:48.683 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:53:48.683 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:53:48.684 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:53:48.692 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:53:48.694 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:48.694 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:48.696 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:48.697 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:48.709 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:48.710 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:53:48.711 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:48.711 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:49.383 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:53:49.384 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:49.389 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:49.390 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:49.391 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:53:49.391 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:53:49.391 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:53:49.392 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:53:49.392 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:49.397 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:49.398 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:49.399 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:49.399 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:49.400 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:53:49.400 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:53:49.400 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:53:49.402 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:49.403 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:49.403 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:53:49.403 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:53:49.404 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:49.405  INFO 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:49.405 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:49.413 DEBUG 37440 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:49.415 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:49.415 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:49.416 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:49.417 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:49.427 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:49.437 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:53:49.439 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:49.439 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:49.467 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:49.468 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:53:49.469 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:49.469 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:53:49.538 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:49.538 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:53:49.543 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:53:49.544 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:53:49.544 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:53:49.545 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:53:49.545 DEBUG 37440 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:53:49.547  INFO 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:53:49.547 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:53:49.555 DEBUG 37440 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:53:49.558 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:53:49.558 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:53:49.560 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:53:49.561 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:08.709 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 20:54:08.710 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:08.714 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 20:54:08.714 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:08.715 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:08.715 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:54:08.716 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 20:54:08.716 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 20:54:08.716 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:54:08.718  INFO 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:54:08.719 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 20:54:08.719 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:08.720 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 20:54:08.720 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 20:54:08.720 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 20:54:08.721 DEBUG 37440 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 20:54:08.734 DEBUG 37440 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 20:54:08.736 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:54:08.738 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:54:08.739 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:54:08.740 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:08.751 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:54:08.752 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 20:54:08.753 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:54:08.753 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:09.691 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 20:54:09.691 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:09.693 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 20:54:09.693 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:09.696 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:09.697 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:54:09.697 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 20:54:09.698 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 20:54:09.698 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 20:54:09.698 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:09.699 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:54:09.700 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 20:54:09.700 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 20:54:09.700 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 20:54:09.733 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:54:09.743 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 20:54:09.744 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:54:09.746 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:09.766 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:54:09.767 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 20:54:09.768 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:54:09.769 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:09.800 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:54:09.800 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:09.805 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:09.805 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:54:09.806 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 20:54:09.806 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 20:54:09.806 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:54:09.807  INFO 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:54:09.808 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:54:09.817 DEBUG 37440 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:54:09.819 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:54:09.819 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:54:09.820 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:54:09.821 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:10.083 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:54:10.083 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:10.088 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:10.089 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 20:54:10.089 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 20:54:10.089 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 20:54:10.090 DEBUG 37440 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 20:54:10.091  INFO 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 20:54:10.091 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 20:54:10.099 DEBUG 37440 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 20:54:10.102 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:54:10.102 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 20:54:10.103 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:54:10.104 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:10.280 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/records?page=0&size=10
2025-05-05 20:54:10.280 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:10.283 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:10.284 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/records?page=0&size=10] with attributes [authenticated]
2025-05-05 20:54:10.284 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/records?page=0&size=10
2025-05-05 20:54:10.285 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/records?page=0&size=10", parameters={masked}
2025-05-05 20:54:10.286 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:54:10.286 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:10.286 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getVisitorById(Long)
2025-05-05 20:54:10.290 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:10.290 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:54:10.291 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:54:10.291 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:54:10.293 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:54:10.299 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:54:10.299 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:54:10.299 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:10.300 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:54:10.300 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:10.301 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:54:10.301 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:54:10.301 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:54:10.302 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:54:10.309 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:54:10.309 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:10.419 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.hotel.entity.Visitor> com.hotel.controller.VisitorController.getVisitorById(java.lang.Long): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "records"
2025-05-05 20:54:10.504  WARN 37440 --- [http-nio-8090-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "records"]
2025-05-05 20:54:10.504 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-05 20:54:10.505 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:10.508 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=0&size=10
2025-05-05 20:54:10.509 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:10.510 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:54:10.511 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=0&size=10
2025-05-05 20:54:10.515 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=0&size=10", parameters={masked}
2025-05-05 20:54:10.516 DEBUG 37440 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-05 20:54:10.525 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:54:10.526 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Bad Request, message=An error occurred, status=400}]
2025-05-05 20:54:10.530 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-05-05 20:54:10.530 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:35.991 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/room/203/verify
2025-05-05 20:54:35.992 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:35.997 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:54:35.999 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/room/203/verify] with attributes [authenticated]
2025-05-05 20:54:35.999 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/room/203/verify
2025-05-05 20:54:35.999 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/room/203/verify", parameters={}
2025-05-05 20:54:36.001 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:54:36.007 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:54:36.008 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:54:36.009 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:54:36.009 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:54:36.010 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:54:36.010 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:54:36.010 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:54:36.011 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:54:36.013 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:54:36.022 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:54:36.022 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:55:03.103 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/room/203/verify
2025-05-05 20:55:03.104 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:55:03.110 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:55:03.111 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/room/203/verify] with attributes [authenticated]
2025-05-05 20:55:03.111 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/room/203/verify
2025-05-05 20:55:03.111 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/room/203/verify", parameters={}
2025-05-05 20:55:03.113 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:55:03.116 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:55:03.117 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:55:03.117 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:55:03.118 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:55:03.118 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:55:03.118 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:55:03.118 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:55:03.118 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:55:03.119 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:55:03.125 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:55:03.125 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:56:35.244 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:56:35.245 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:56:35.248 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:56:35.249 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:56:35.249 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:56:35.250 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:56:35.251 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:56:35.251 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:56:35.252 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:56:35.255 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:56:35.255 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:56:35.256 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:56:35.257 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:56:35.259 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:56:35.264 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:56:35.264 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:56:35.264 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:56:35.264 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:56:35.265 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:56:35.266 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:56:35.266 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:56:35.268 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:56:35.268 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:56:35.268 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:56:35.268 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:56:35.268 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:56:35.269 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:56:35.284 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:56:35.284 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:56:52.572 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:56:52.574 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:56:52.577 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:56:52.577 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:56:52.587 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:56:52.587 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:56:52.587 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:56:52.590 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:56:52.591 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:56:52.595 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:56:52.596 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:56:52.596 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:56:52.596 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:56:52.597 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:56:52.600 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:56:57.486 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:56:57.486 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:56:57.486 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:56:57.489 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:56:57.494 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:56:57.494 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:56:57.496 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:56:57.496 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:56:57.496 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:56:57.506 DEBUG 37440 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:56:57.516 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:56:57.517 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:56:57.519 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:56:57.519 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:05.509 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:05.509 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:05.515 DEBUG 37440 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:05.515 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:57:05.516 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:05.517 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:57:05.517 DEBUG 37440 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:57:05.523 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:57:05.524 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:57:05.525 DEBUG 37440 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:57:05.527 DEBUG 37440 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:05.532 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:57:05.532 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:05.537 DEBUG 37440 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:05.540 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:57:05.541 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:57:05.541 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:57:05.542 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:57:05.547 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:57:05.548 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:57:05.548 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:05.548 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:57:05.548 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:05.548 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:57:05.548 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:57:05.549 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:57:05.551 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:57:05.557 DEBUG 37440 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:57:05.558 DEBUG 37440 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:06.855 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:06.856 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:06.866 DEBUG 37440 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:06.867 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:57:06.867 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:57:06.867 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:06.867 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:06.867 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:57:06.868 DEBUG 37440 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:57:06.871 DEBUG 37440 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:06.872 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:57:06.872 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:57:06.872 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:57:06.874 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:57:06.876 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:57:06.876 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:57:06.877 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:57:06.877 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:57:06.877 DEBUG 37440 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:57:06.879 DEBUG 37440 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:06.877 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:06.880 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:57:06.880 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:06.880 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:57:06.880 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:57:06.880 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:57:06.882 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:57:06.890 DEBUG 37440 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:57:06.890 DEBUG 37440 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:39.553 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:39.554 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:39.556 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:57:39.556 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:39.559 DEBUG 37440 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:39.560 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:57:39.560 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:39.560 DEBUG 37440 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:39.560 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:57:39.560 DEBUG 37440 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:57:39.560 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:57:39.561 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:57:39.561 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:57:39.562 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:57:39.565 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:57:39.565 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:57:39.565 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:57:39.566 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:57:39.566 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:39.566 DEBUG 37440 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:57:39.566 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:57:39.567 DEBUG 37440 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:39.567 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:39.567 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:57:39.567 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:57:39.567 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:57:39.568 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:57:39.572 DEBUG 37440 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:57:39.573 DEBUG 37440 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:58.034 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:57:58.034 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:58.034 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:58.034 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:58.038 DEBUG 37440 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:58.039 DEBUG 37440 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:57:58.039 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:57:58.039 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:57:58.040 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:57:58.040 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:57:58.040 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:57:58.040 DEBUG 37440 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:57:58.040 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:57:58.041 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:57:58.044 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:57:58.045 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:57:58.045 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:57:58.045 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:58.045 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:57:58.045 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:57:58.046 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:57:58.046 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:57:58.046 DEBUG 37440 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:57:58.046 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:57:58.047 DEBUG 37440 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:57:58.047 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:57:58.047 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:57:58.053 DEBUG 37440 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:57:58.053 DEBUG 37440 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:58:27.995 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 20:58:27.996 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:58:27.998 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 20:58:27.998 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:58:27.999 DEBUG 37440 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:58:28.000 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 20:58:28.001 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 20:58:28.001 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 20:58:28.002 DEBUG 37440 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 20:58:28.002 DEBUG 37440 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 20:58:28.003 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 20:58:28.004 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 20:58:28.004 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 20:58:28.005 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 20:58:28.006 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 20:58:28.006 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 20:58:28.007 DEBUG 37440 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 20:58:28.008 DEBUG 37440 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:58:28.010 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 20:58:28.010 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 20:58:28.010 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:58:28.011 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 20:58:28.012 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 20:58:28.012 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 20:58:28.012 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 20:58:28.012 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 20:58:28.013 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 20:58:28.016 DEBUG 37440 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 20:58:28.017 DEBUG 37440 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 20:59:31.022  INFO 37440 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 20:59:31.088  INFO 37440 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 20:59:31.179  INFO 37440 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 20:59:45.672  INFO 31708 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 31708 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 20:59:45.676 DEBUG 31708 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 20:59:45.677  INFO 31708 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 20:59:47.149  INFO 31708 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 20:59:47.543  INFO 31708 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 377 ms. Found 19 JPA repository interfaces.
2025-05-05 20:59:48.644  INFO 31708 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 20:59:48.647  INFO 31708 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 20:59:48.648  INFO 31708 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 20:59:48.649  INFO 31708 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 20:59:48.737  INFO 31708 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 20:59:48.754  INFO 31708 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 20:59:48.755  INFO 31708 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 20:59:49.038  INFO 31708 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 20:59:49.039  INFO 31708 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3283 ms
2025-05-05 20:59:49.328  INFO 31708 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 20:59:49.491  INFO 31708 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 20:59:49.931  INFO 31708 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 20:59:50.162  INFO 31708 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 20:59:50.833  INFO 31708 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 20:59:50.864  INFO 31708 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 20:59:53.477  INFO 31708 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 20:59:53.498  INFO 31708 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 20:59:54.393 DEBUG 31708 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 20:59:54.393 DEBUG 31708 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 20:59:55.982 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 20:59:55.997 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 20:59:55.998 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 20:59:55.999 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 20:59:56.000 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 20:59:56.000 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 20:59:56.000 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 20:59:56.000 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 20:59:56.001 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 20:59:56.001 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 20:59:56.002 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 20:59:56.002 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 20:59:56.002 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 20:59:56.003 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 20:59:56.003 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 20:59:56.004 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 20:59:56.005 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 20:59:56.005 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 20:59:56.006 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 20:59:56.006 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 20:59:56.006 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 20:59:56.007 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 20:59:56.007 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 20:59:56.007 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 20:59:56.008 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 20:59:56.008 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 20:59:56.008 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 20:59:56.008 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 20:59:56.009 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 20:59:56.009 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 20:59:56.009 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 20:59:56.011 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 20:59:56.011 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 20:59:56.011 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 20:59:56.011 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 20:59:56.011 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 20:59:56.016 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 20:59:56.016 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 20:59:56.017 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 20:59:56.017 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 20:59:56.018 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 20:59:56.018 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 20:59:56.019 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 20:59:56.019 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 20:59:56.020 DEBUG 31708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 20:59:56.030  INFO 31708 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4545cfc0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cdafb4d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1eda853f, org.springframework.security.web.header.HeaderWriterFilter@4f239a76, org.springframework.web.filter.CorsFilter@231c521e, org.springframework.security.web.authentication.logout.LogoutFilter@54a98358, com.hotel.config.JwtAuthenticationFilter@16c1345b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3984e2b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35bb3fea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58ca1cad, org.springframework.security.web.session.SessionManagementFilter@1f67d37f, org.springframework.security.web.access.ExceptionTranslationFilter@1bf4a79b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1cc878e6]
2025-05-05 20:59:56.150  WARN 31708 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 20:59:56.428 DEBUG 31708 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 20:59:56.478  INFO 31708 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 20:59:56.600 DEBUG 31708 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 20:59:56.610 DEBUG 31708 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 20:59:56.646 DEBUG 31708 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 20:59:56.664 DEBUG 31708 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 20:59:57.002  INFO 31708 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 20:59:57.017  INFO 31708 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 12.215 seconds (JVM running for 14.141)
2025-05-05 21:00:30.705  INFO 31708 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 21:00:30.705  INFO 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 21:00:30.706 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 21:00:30.706 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 21:00:30.706 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 21:00:30.707 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@26c494d7
2025-05-05 21:00:30.707 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@24facb47
2025-05-05 21:00:30.707 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 21:00:30.707  INFO 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-05 21:00:30.722 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 21:00:30.722 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 21:00:30.731 DEBUG 31708 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:00:30.731 DEBUG 31708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:00:30.854 DEBUG 31708 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:00:30.854 DEBUG 31708 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:00:30.867 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 21:00:30.867 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 21:00:30.868 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:00:30.868 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 21:00:30.872 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 21:00:30.872 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 21:00:30.879 DEBUG 31708 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:00:30.879 DEBUG 31708 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 21:00:30.922  INFO 31708 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:00:30.922 DEBUG 31708 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:00:30.992 DEBUG 31708 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 21:00:31.061 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:00:31.063 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 21:00:31.074 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:00:31.075 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:00:31.097 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:00:31.100 DEBUG 31708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:00:31.101 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:00:31.102 DEBUG 31708 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:00:31.261 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:00:31.261 DEBUG 31708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:00:31.268 DEBUG 31708 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:00:31.269 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:00:31.269 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:00:31.269 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:00:31.270 DEBUG 31708 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:00:31.276 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:00:31.276 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:00:31.277 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:00:31.277 DEBUG 31708 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:00:31.283 DEBUG 31708 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:00:31.284 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:00:31.285 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:00:31.285 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:00:31.286 DEBUG 31708 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:00:31.287 DEBUG 31708 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:00:31.288 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:00:31.289 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:00:31.289 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:00:31.290 DEBUG 31708 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:00:31.304  INFO 31708 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:00:31.305 DEBUG 31708 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:00:31.324 DEBUG 31708 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:00:31.327 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:00:31.328 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:00:31.331 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:00:31.331 DEBUG 31708 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:00:31.346 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:00:31.365 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:00:31.382 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:00:31.383 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:00:31.402 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:00:31.403 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:00:31.406 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:00:31.406 DEBUG 31708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:00:31.569 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:00:31.569 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:00:31.576 DEBUG 31708 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:00:31.577 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:00:31.577 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:00:31.578 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:00:31.578 DEBUG 31708 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:00:31.579  INFO 31708 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:00:31.580 DEBUG 31708 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:00:31.589 DEBUG 31708 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:00:31.592 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:00:31.593 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:00:31.596 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:00:31.596 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:02:58.886 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 21:02:58.886 DEBUG 31708 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:02:58.889 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 21:02:58.889 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:02:58.895 DEBUG 31708 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:02:58.897 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:02:58.897 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 21:02:58.897 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 21:02:58.897 DEBUG 31708 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:02:58.898 DEBUG 31708 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:02:58.898 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 21:02:58.898 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 21:02:58.898 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 21:02:58.900  INFO 31708 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:02:58.900 DEBUG 31708 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 21:02:58.900 DEBUG 31708 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:02:58.916 DEBUG 31708 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 21:02:58.921 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:02:58.921 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:02:58.924 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:02:58.924 DEBUG 31708 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:02:58.947 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:02:58.947 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 21:02:58.950 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:02:58.950 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:02:59.424 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:02:59.424 DEBUG 31708 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:02:59.424 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:02:59.425 DEBUG 31708 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:02:59.435 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:02:59.436 DEBUG 31708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:02:59.437 DEBUG 31708 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:02:59.438 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:02:59.438 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:02:59.438 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:02:59.439 DEBUG 31708 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:02:59.440 DEBUG 31708 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:02:59.441 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:02:59.441 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:02:59.442 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:02:59.442 DEBUG 31708 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:02:59.444 DEBUG 31708 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:02:59.445 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:02:59.445 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:02:59.445 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:02:59.446 DEBUG 31708 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:02:59.449  INFO 31708 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:02:59.450 DEBUG 31708 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:02:59.475 DEBUG 31708 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:02:59.477 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:02:59.478 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:02:59.481 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:02:59.481 DEBUG 31708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:02:59.490 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:02:59.505 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:02:59.509 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:02:59.509 DEBUG 31708 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:02:59.544 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:02:59.545 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:02:59.547 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:02:59.547 DEBUG 31708 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:02:59.763 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:02:59.764 DEBUG 31708 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:02:59.770 DEBUG 31708 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:02:59.770 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:02:59.771 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:02:59.771 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:02:59.771 DEBUG 31708 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:02:59.772  INFO 31708 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:02:59.774 DEBUG 31708 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:02:59.782 DEBUG 31708 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:02:59.785 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:02:59.786 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:02:59.787 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:02:59.788 DEBUG 31708 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:00.649 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:03:00.650 DEBUG 31708 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:00.657 DEBUG 31708 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:00.658 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:03:00.658 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:03:00.658 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:03:00.659 DEBUG 31708 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:03:00.660 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:03:00.660 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:00.670 DEBUG 31708 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:00.671 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:03:00.672 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:03:00.672 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:03:00.678 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:00.678 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:03:00.679 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:03:00.680 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:00.680 DEBUG 31708 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:00.684 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:03:00.685 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:03:00.685 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:00.689 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:03:00.689 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:00.689 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:03:00.689 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:03:00.690 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:03:00.691 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:03:00.699 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:03:00.699 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:06.768 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:03:06.769 DEBUG 31708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:06.772 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:03:06.772 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:06.775 DEBUG 31708 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:06.777 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:03:06.777 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:03:06.778 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:03:06.778 DEBUG 31708 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:03:06.779 DEBUG 31708 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:06.779 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:03:06.780 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:03:06.780 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:03:06.781 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:03:06.787 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:06.787 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:03:06.789 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:06.789 DEBUG 31708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:06.789 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:03:06.790 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:03:06.790 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:06.792 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:03:06.792 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:06.792 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:03:06.792 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:03:06.792 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:03:06.793 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:03:06.798 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:03:06.798 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:36.964 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 21:03:36.964 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 21:03:36.964 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:36.964 DEBUG 31708 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:36.970 DEBUG 31708 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:36.970 DEBUG 31708 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:36.970 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:03:36.970 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 21:03:36.971 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 21:03:36.971 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 21:03:36.971 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 21:03:36.971 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 21:03:36.971 DEBUG 31708 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:03:36.971 DEBUG 31708 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 21:03:36.973  INFO 31708 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:03:36.974 DEBUG 31708 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:03:36.985 DEBUG 31708 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 21:03:36.989 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:36.989 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:03:36.990 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:36.991 DEBUG 31708 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:37.002 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:37.003 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 21:03:37.004 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:37.005 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:37.218 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:03:37.218 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:03:37.218 DEBUG 31708 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:37.218 DEBUG 31708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:37.224 DEBUG 31708 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:37.224 DEBUG 31708 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:37.225 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:03:37.225 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:03:37.226 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:03:37.226 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:03:37.226 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:03:37.226 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:03:37.227 DEBUG 31708 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:03:37.227 DEBUG 31708 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:03:37.269 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:03:37.274 DEBUG 31708 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:37.280 DEBUG 31708 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:37.280 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:03:37.281 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:03:37.281 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:03:37.281 DEBUG 31708 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:03:37.283  INFO 31708 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:03:37.283 DEBUG 31708 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:03:37.291 DEBUG 31708 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:03:37.294 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:37.294 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:03:37.297 DEBUG 31708 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:37.297 DEBUG 31708 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:37.308 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:37.319 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:03:37.321 DEBUG 31708 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:37.323 DEBUG 31708 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:37.355 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:37.355 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:03:37.356 DEBUG 31708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:37.357 DEBUG 31708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:03:37.360 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:03:37.360 DEBUG 31708 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:03:37.366 DEBUG 31708 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:03:37.367 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:03:37.367 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:03:37.367 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:03:37.367 DEBUG 31708 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:03:37.368  INFO 31708 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:03:37.368 DEBUG 31708 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:03:37.375 DEBUG 31708 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:03:37.378 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:03:37.379 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:03:37.380 DEBUG 31708 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:03:37.380 DEBUG 31708 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:08:40.262 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:08:40.263 DEBUG 31708 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:08:40.269 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:08:40.269 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:08:40.273 DEBUG 31708 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:08:40.274 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:08:40.275 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:08:40.275 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:08:40.275 DEBUG 31708 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:08:40.276 DEBUG 31708 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:08:40.278 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:08:40.278 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:08:40.279 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:08:40.280 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:08:40.283 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:08:40.284 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:08:40.286 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:08:40.286 DEBUG 31708 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:08:40.286 DEBUG 31708 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:08:40.286 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:08:40.286 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:08:40.287 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:08:40.287 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:08:40.288 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:08:40.288 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:08:40.289 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:08:40.290 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:08:40.299 DEBUG 31708 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:08:40.299 DEBUG 31708 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:08:42.063 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:08:42.064 DEBUG 31708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:08:42.074 DEBUG 31708 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:08:42.076 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:08:42.076 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:08:42.077 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:08:42.078 DEBUG 31708 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:08:42.088 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:08:42.089 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:08:42.091 DEBUG 31708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:08:42.091 DEBUG 31708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:08:42.120 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:08:42.120 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:08:42.129 DEBUG 31708 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:08:42.130 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:08:42.131 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:08:42.131 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:08:42.133 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:08:42.135 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:08:42.135 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:08:42.136 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:08:42.137 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:08:42.137 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:08:42.137 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:08:42.137 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:08:42.137 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:08:42.139 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:08:42.152 DEBUG 31708 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:08:42.153 DEBUG 31708 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:09:51.563 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:09:51.566 DEBUG 31708 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:09:51.566 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:09:51.567 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:09:51.572 DEBUG 31708 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:09:51.572 DEBUG 31708 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:09:51.573 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:09:51.573 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:09:51.574 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:09:51.574 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:09:51.575 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:09:51.575 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:09:51.576 DEBUG 31708 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:09:51.576 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:09:51.580 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:09:51.580 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:09:51.580 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:09:51.581 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:09:51.581 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:09:51.582 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:09:51.582 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:09:51.582 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:09:51.582 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:09:51.583 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:09:51.583 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:09:51.584 DEBUG 31708 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:09:51.584 DEBUG 31708 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:09:51.588 DEBUG 31708 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:09:51.588 DEBUG 31708 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:10:15.101  INFO 31708 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:10:15.123  INFO 31708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:10:15.167  INFO 31708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:12:34.134  INFO 18796 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 18796 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:12:34.140 DEBUG 18796 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:12:34.141  INFO 18796 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:12:35.842  INFO 18796 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:12:36.221  INFO 18796 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 361 ms. Found 19 JPA repository interfaces.
2025-05-05 21:12:37.212  INFO 18796 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:12:37.213  INFO 18796 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:12:37.214  INFO 18796 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:12:37.215  INFO 18796 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:12:37.285  INFO 18796 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:12:37.301  INFO 18796 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:12:37.302  INFO 18796 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:12:37.532  INFO 18796 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:12:37.533  INFO 18796 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3311 ms
2025-05-05 21:12:37.850  INFO 18796 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:12:37.953  INFO 18796 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:12:38.276  INFO 18796 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:12:38.470  INFO 18796 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:12:39.086  INFO 18796 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:12:39.121  INFO 18796 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:12:41.806  INFO 18796 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:12:41.827  INFO 18796 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:12:42.977 DEBUG 18796 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:12:42.978 DEBUG 18796 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:12:43.563  WARN 18796 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
2025-05-05 21:12:43.565  INFO 18796 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:12:43.569  INFO 18796 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:12:43.592  INFO 18796 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:12:43.596  INFO 18796 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-05 21:12:43.617  INFO 18796 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-05 21:12:43.686 ERROR 18796 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:66) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:163) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]
	... 66 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: bookingNo of: com.hotel.entity.Reservation [SELECT DISTINCT r FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR lower(r.guestName) LIKE lower(concat('%', :guestName, '%'))) AND (:guestPhone IS NULL OR r.guestPhone LIKE concat('%', :guestPhone, '%')) AND (:bookingNo IS NULL OR r.bookingNo LIKE concat('%', :bookingNo, '%')) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) ]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy129.createQuery(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	... 72 common frames omitted
Caused by: org.hibernate.QueryException: could not resolve property: bookingNo of: com.hotel.entity.Reservation [SELECT DISTINCT r FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR lower(r.guestName) LIKE lower(concat('%', :guestName, '%'))) AND (:guestPhone IS NULL OR r.guestPhone LIKE concat('%', :guestPhone, '%')) AND (:bookingNo IS NULL OR r.bookingNo LIKE concat('%', :bookingNo, '%')) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) ]
	at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 78 common frames omitted
Caused by: org.hibernate.QueryException: could not resolve property: bookingNo of: com.hotel.entity.Reservation
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:78) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:72) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:2053) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.FromElementType.getPropertyType(FromElementType.java:412) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.FromElement.getPropertyType(FromElement.java:524) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.getDataType(DotNode.java:723) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.prepareLhs(DotNode.java:268) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:208) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4405) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2133) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2108) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 84 common frames omitted

2025-05-05 21:14:55.278  INFO 25820 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 25820 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:14:55.280 DEBUG 25820 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:14:55.281  INFO 25820 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:14:56.510  INFO 25820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:14:56.820  INFO 25820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 297 ms. Found 19 JPA repository interfaces.
2025-05-05 21:14:58.054  INFO 25820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:14:58.055  INFO 25820 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:14:58.056  INFO 25820 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:14:58.057  INFO 25820 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:14:58.124  INFO 25820 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:14:58.135  INFO 25820 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:14:58.136  INFO 25820 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:14:58.307  INFO 25820 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:14:58.308  INFO 25820 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2965 ms
2025-05-05 21:14:58.706  INFO 25820 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:14:58.786  INFO 25820 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:14:59.433  INFO 25820 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:14:59.591  INFO 25820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:15:00.097  INFO 25820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:15:00.121  INFO 25820 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:15:01.656  INFO 25820 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:15:01.667  INFO 25820 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:15:02.262 DEBUG 25820 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:15:02.263 DEBUG 25820 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:15:03.538 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 21:15:03.549 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 21:15:03.549 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 21:15:03.549 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 21:15:03.550 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 21:15:03.550 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 21:15:03.551 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 21:15:03.551 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 21:15:03.551 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 21:15:03.551 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 21:15:03.552 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 21:15:03.552 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 21:15:03.552 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 21:15:03.553 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 21:15:03.553 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 21:15:03.554 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 21:15:03.554 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 21:15:03.554 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 21:15:03.555 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 21:15:03.555 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 21:15:03.555 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 21:15:03.555 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 21:15:03.556 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 21:15:03.556 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 21:15:03.557 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 21:15:03.557 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 21:15:03.557 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 21:15:03.557 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 21:15:03.558 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 21:15:03.561 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 21:15:03.562 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 21:15:03.562 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 21:15:03.562 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 21:15:03.563 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 21:15:03.564 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 21:15:03.564 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 21:15:03.564 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 21:15:03.564 DEBUG 25820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 21:15:03.570  INFO 25820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3abd7b20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@329a27ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a0df38e, org.springframework.security.web.header.HeaderWriterFilter@48b1b469, org.springframework.web.filter.CorsFilter@7d49fe37, org.springframework.security.web.authentication.logout.LogoutFilter@4884350b, com.hotel.config.JwtAuthenticationFilter@36c1b6ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8aa3013, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@627ad446, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@589a82af, org.springframework.security.web.session.SessionManagementFilter@3984e2b3, org.springframework.security.web.access.ExceptionTranslationFilter@1ac30be4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3070f59f]
2025-05-05 21:15:03.619  WARN 25820 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 21:15:03.811 DEBUG 25820 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 21:15:03.839  INFO 25820 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 21:15:03.914 DEBUG 25820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 21:15:03.919 DEBUG 25820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 21:15:03.937 DEBUG 25820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 21:15:03.946 DEBUG 25820 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 21:15:04.172  INFO 25820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 21:15:04.185  INFO 25820 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 9.719 seconds (JVM running for 11.037)
2025-05-05 21:15:17.039  INFO 25820 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 21:15:17.040  INFO 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 21:15:17.040 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 21:15:17.041 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 21:15:17.041 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 21:15:17.043 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@56c7e2d1
2025-05-05 21:15:17.044 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2693e39c
2025-05-05 21:15:17.045 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 21:15:17.045  INFO 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-05 21:15:17.069 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 21:15:17.069 DEBUG 25820 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 21:15:17.082 DEBUG 25820 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:15:17.082 DEBUG 25820 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:15:17.245 DEBUG 25820 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:15:17.245 DEBUG 25820 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:15:17.261 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 21:15:17.262 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 21:15:17.263 DEBUG 25820 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:15:17.264 DEBUG 25820 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 21:15:17.267 DEBUG 25820 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 21:15:17.267 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 21:15:17.274 DEBUG 25820 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:15:17.274 DEBUG 25820 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 21:15:17.326  INFO 25820 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:15:17.327 DEBUG 25820 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:15:17.395 DEBUG 25820 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 21:15:17.489 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:15:17.490 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 21:15:17.509 DEBUG 25820 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:15:17.510 DEBUG 25820 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:15:17.542 DEBUG 25820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:15:17.544 DEBUG 25820 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:15:17.548 DEBUG 25820 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:15:17.549 DEBUG 25820 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:15:17.871 DEBUG 25820 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:15:17.872 DEBUG 25820 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:15:17.878 DEBUG 25820 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:15:17.878 DEBUG 25820 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:15:17.881 DEBUG 25820 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:15:17.883 DEBUG 25820 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:15:17.883 DEBUG 25820 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:15:17.883 DEBUG 25820 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:15:17.884 DEBUG 25820 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:15:17.886 DEBUG 25820 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:15:17.888 DEBUG 25820 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:15:17.888 DEBUG 25820 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:15:17.888 DEBUG 25820 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:15:17.889 DEBUG 25820 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:15:17.891 DEBUG 25820 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:15:17.892 DEBUG 25820 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:15:17.902 DEBUG 25820 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:15:17.903 DEBUG 25820 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:15:17.904 DEBUG 25820 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:15:17.904 DEBUG 25820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:15:17.905 DEBUG 25820 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:15:17.918  INFO 25820 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:15:17.919 DEBUG 25820 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:15:17.934 DEBUG 25820 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:15:17.938 DEBUG 25820 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:15:17.938 DEBUG 25820 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:15:17.941 DEBUG 25820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:15:17.941 DEBUG 25820 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:15:17.945 DEBUG 25820 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:15:17.970 DEBUG 25820 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:15:17.990 DEBUG 25820 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:15:17.991 DEBUG 25820 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:15:18.034 DEBUG 25820 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:15:18.034 DEBUG 25820 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:15:18.037 DEBUG 25820 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:15:18.037 DEBUG 25820 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:15:18.141 DEBUG 25820 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:15:18.142 DEBUG 25820 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:15:18.148 DEBUG 25820 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:15:18.149 DEBUG 25820 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:15:18.149 DEBUG 25820 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:15:18.150 DEBUG 25820 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:15:18.150 DEBUG 25820 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:15:18.151  INFO 25820 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:15:18.151 DEBUG 25820 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:15:18.163 DEBUG 25820 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:15:18.166 DEBUG 25820 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:15:18.167 DEBUG 25820 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:15:18.170 DEBUG 25820 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:15:18.170 DEBUG 25820 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:15:29.668  INFO 25820 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:15:29.671  INFO 25820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:15:29.842  INFO 25820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:15:42.330  INFO 23840 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 23840 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:15:42.333 DEBUG 23840 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:15:42.334  INFO 23840 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:15:43.676  INFO 23840 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:15:43.974  INFO 23840 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 288 ms. Found 19 JPA repository interfaces.
2025-05-05 21:15:44.673  INFO 23840 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:15:44.675  INFO 23840 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:15:44.676  INFO 23840 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:15:44.677  INFO 23840 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:15:44.686  INFO 23840 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:15:44.700  INFO 23840 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:15:44.701  INFO 23840 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:15:44.937  INFO 23840 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:15:44.937  INFO 23840 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2532 ms
2025-05-05 21:15:45.253  INFO 23840 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:15:45.360  INFO 23840 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:15:45.676  INFO 23840 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:15:45.827  INFO 23840 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:15:46.334  INFO 23840 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:15:46.360  INFO 23840 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:15:47.970  INFO 23840 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:15:47.981  INFO 23840 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:15:48.626 DEBUG 23840 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:15:48.627 DEBUG 23840 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:15:48.981  WARN 23840 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
2025-05-05 21:15:48.982  INFO 23840 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:15:48.984  INFO 23840 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:15:48.996  INFO 23840 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:15:48.998  INFO 23840 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-05 21:15:49.012  INFO 23840 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-05 21:15:49.059 ERROR 23840 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findReservationsFiltered(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:66) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:163) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]
	... 66 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: bookingNo of: com.hotel.entity.Reservation [SELECT DISTINCT r FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR lower(r.guestName) LIKE lower(concat('%', :guestName, '%'))) AND (:guestPhone IS NULL OR r.guestPhone LIKE concat('%', :guestPhone, '%')) AND (:bookingNo IS NULL OR r.bookingNo LIKE concat('%', :bookingNo, '%')) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) ]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy129.createQuery(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	... 72 common frames omitted
Caused by: org.hibernate.QueryException: could not resolve property: bookingNo of: com.hotel.entity.Reservation [SELECT DISTINCT r FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR lower(r.guestName) LIKE lower(concat('%', :guestName, '%'))) AND (:guestPhone IS NULL OR r.guestPhone LIKE concat('%', :guestPhone, '%')) AND (:bookingNo IS NULL OR r.bookingNo LIKE concat('%', :bookingNo, '%')) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) ]
	at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 78 common frames omitted
Caused by: org.hibernate.QueryException: could not resolve property: bookingNo of: com.hotel.entity.Reservation
	at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:78) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:72) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:2053) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.FromElementType.getPropertyType(FromElementType.java:412) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.FromElement.getPropertyType(FromElement.java:524) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.getDataType(DotNode.java:723) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.prepareLhs(DotNode.java:268) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:208) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4405) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2133) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2108) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 84 common frames omitted

2025-05-05 21:17:03.749  INFO 29668 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 29668 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:17:03.752 DEBUG 29668 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:17:03.753  INFO 29668 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:17:04.839  INFO 29668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:17:05.123  INFO 29668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 273 ms. Found 19 JPA repository interfaces.
2025-05-05 21:17:05.815  INFO 29668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:17:05.817  INFO 29668 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:17:05.818  INFO 29668 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:17:05.818  INFO 29668 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:17:05.827  INFO 29668 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:17:05.840  INFO 29668 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:17:05.840  INFO 29668 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:17:06.011  INFO 29668 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:17:06.011  INFO 29668 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2197 ms
2025-05-05 21:17:06.233  INFO 29668 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:17:06.291  INFO 29668 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:17:06.478  INFO 29668 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:17:06.593  INFO 29668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:17:06.923  INFO 29668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:17:06.941  INFO 29668 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:17:08.357  INFO 29668 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:17:08.366  INFO 29668 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:17:08.911 DEBUG 29668 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:17:08.912 DEBUG 29668 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:17:10.036 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 21:17:10.047 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 21:17:10.048 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 21:17:10.048 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 21:17:10.049 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 21:17:10.049 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 21:17:10.049 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 21:17:10.049 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 21:17:10.050 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 21:17:10.050 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 21:17:10.050 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 21:17:10.050 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 21:17:10.051 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 21:17:10.051 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 21:17:10.051 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 21:17:10.052 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 21:17:10.052 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 21:17:10.053 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 21:17:10.053 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 21:17:10.053 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 21:17:10.053 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 21:17:10.053 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 21:17:10.053 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 21:17:10.053 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 21:17:10.054 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 21:17:10.055 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 21:17:10.056 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 21:17:10.056 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 21:17:10.058 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 21:17:10.059 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 21:17:10.059 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 21:17:10.059 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 21:17:10.059 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 21:17:10.059 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 21:17:10.060 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 21:17:10.060 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 21:17:10.060 DEBUG 29668 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 21:17:10.066  INFO 29668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@702ab027, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62d5617, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a15d5f5, org.springframework.security.web.header.HeaderWriterFilter@2279e7c7, org.springframework.web.filter.CorsFilter@17554316, org.springframework.security.web.authentication.logout.LogoutFilter@715523b8, com.hotel.config.JwtAuthenticationFilter@241abc2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@549fe529, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3618486e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8929865, org.springframework.security.web.session.SessionManagementFilter@20e73e41, org.springframework.security.web.access.ExceptionTranslationFilter@219ec4b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41bc501b]
2025-05-05 21:17:10.124  WARN 29668 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 21:17:10.304 DEBUG 29668 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 21:17:10.336  INFO 29668 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 21:17:10.415 DEBUG 29668 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 21:17:10.421 DEBUG 29668 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 21:17:10.438 DEBUG 29668 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 21:17:10.449 DEBUG 29668 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 21:17:10.658  INFO 29668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 21:17:10.668  INFO 29668 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.588 seconds (JVM running for 8.684)
2025-05-05 21:17:35.794  INFO 29668 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 21:17:35.795  INFO 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 21:17:35.795 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 21:17:35.796 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 21:17:35.796 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 21:17:35.798 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1de83be1
2025-05-05 21:17:35.800 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@fdeec12
2025-05-05 21:17:35.801 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 21:17:35.802  INFO 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-05-05 21:17:35.825 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 21:17:35.835 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:36.008 DEBUG 29668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:36.031 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:36.032 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91
2025-05-05 21:17:36.037 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestName=%E5%A5%A5%E5%A5%A5%E5%AF%B9%E6%88%91", parameters={masked}
2025-05-05 21:17:36.045 DEBUG 29668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:36.111  INFO 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: 奥奥对我, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:36.112 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:17:36.182 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=1, TotalPages=1
2025-05-05 21:17:36.334 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:36.335 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:36.396 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:36.400 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:36.460 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:17:36.460 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:36.467 DEBUG 29668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:36.467 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:17:36.467 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:36.468 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:36.468 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:36.468 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:36.469 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:17:36.470 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:17:36.471 DEBUG 29668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:17:36.477 DEBUG 29668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:36.478 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:36.478 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:17:36.478 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:17:36.479 DEBUG 29668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:17:36.480 DEBUG 29668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:36.481 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:36.481 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:36.482 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:17:36.483 DEBUG 29668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:36.486  INFO 29668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:36.486 DEBUG 29668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:36.515 DEBUG 29668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:36.520 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:36.520 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:36.524 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:36.524 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:36.543 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:36.563 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:17:36.587 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:36.588 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:36.616 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:36.617 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:36.624 DEBUG 29668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:36.625 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:36.625 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:36.625 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:17:36.625 DEBUG 29668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:36.627  INFO 29668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:36.627 DEBUG 29668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:36.638 DEBUG 29668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:36.641 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:36.641 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:36.644 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:36.644 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:36.649 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:36.650 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:17:36.653 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:36.653 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:44.683 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 21:17:44.683 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:44.690 DEBUG 29668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:44.691 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:44.691 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 21:17:44.692 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1", parameters={masked}
2025-05-05 21:17:44.692 DEBUG 29668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:44.693  INFO 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:17:44.694 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:17:44.709 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=11, TotalPages=2
2025-05-05 21:17:44.711 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:44.711 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:44.714 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:44.714 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:44.865 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:17:44.866 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:44.872 DEBUG 29668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:44.872 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:44.872 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:17:44.873 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:17:44.873 DEBUG 29668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:17:44.881 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:17:44.881 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:44.890 DEBUG 29668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:44.892 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:44.892 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:17:44.893 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:17:44.894 DEBUG 29668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:17:44.927 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:44.939 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:17:44.941 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:44.942 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:44.968 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:44.968 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:17:44.970 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:44.970 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:44.971 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:44.971 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:44.977 DEBUG 29668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:44.978 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:44.979 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:44.980 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:17:44.980 DEBUG 29668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:44.982  INFO 29668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:44.982 DEBUG 29668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:44.992 DEBUG 29668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:44.995 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:44.995 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:44.997 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:44.998 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:45.018 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:45.018 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:45.023 DEBUG 29668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:45.024 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:45.024 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:45.025 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:17:45.025 DEBUG 29668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:45.026  INFO 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:45.026 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:45.037 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:45.040 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:45.041 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:45.043 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:45.043 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:49.784 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=11
2025-05-05 21:17:49.785 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:49.791 DEBUG 29668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:49.791 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=11] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:49.791 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=11
2025-05-05 21:17:49.792 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=11", parameters={masked}
2025-05-05 21:17:49.792 DEBUG 29668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:49.793  INFO 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 11
2025-05-05 21:17:49.794 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:17:49.800 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=1, TotalPages=1
2025-05-05 21:17:49.804 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:49.805 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:49.807 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:49.807 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:49.885 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:17:49.886 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:49.892 DEBUG 29668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:49.893 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:49.894 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:17:49.894 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:17:49.894 DEBUG 29668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:17:49.911 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:17:49.912 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:49.913 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:49.914 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:49.918 DEBUG 29668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:49.919 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:49.919 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:17:49.919 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:17:49.919 DEBUG 29668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:17:49.921 DEBUG 29668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:49.922 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:49.922 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:49.923 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:17:49.923 DEBUG 29668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:49.924  INFO 29668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:49.924 DEBUG 29668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:49.935 DEBUG 29668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:49.938 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:49.938 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:49.940 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:49.941 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:49.949 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:49.958 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:17:49.960 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:49.960 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:49.971 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:49.972 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:17:49.973 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:49.973 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:50.042 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:50.043 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:50.047 DEBUG 29668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:50.048 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:50.048 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:50.048 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:17:50.049 DEBUG 29668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:50.049  INFO 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:50.050 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:50.060 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:50.063 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:50.063 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:50.064 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:50.065 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:53.404 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 21:17:53.404 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:53.411 DEBUG 29668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:53.412 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:53.412 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-05 21:17:53.413 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1", parameters={masked}
2025-05-05 21:17:53.413 DEBUG 29668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:53.414  INFO 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:17:53.415 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:17:53.428 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=11, TotalPages=2
2025-05-05 21:17:53.432 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:53.438 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:53.440 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:53.440 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:53.625 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:17:53.625 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:53.625 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:17:53.625 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:53.630 DEBUG 29668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:53.630 DEBUG 29668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:53.630 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:53.630 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:53.631 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:17:53.631 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:17:53.631 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:17:53.631 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:17:53.631 DEBUG 29668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:17:53.631 DEBUG 29668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:17:53.632 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:53.632 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:53.640 DEBUG 29668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:53.640 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:53.641 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:17:53.641 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:17:53.641 DEBUG 29668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:53.643  INFO 29668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:53.643 DEBUG 29668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:53.652 DEBUG 29668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:53.655 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:53.655 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:53.658 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:53.658 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:53.660 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:53.668 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:17:53.670 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:53.670 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:53.712 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:53.712 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:17:53.714 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:53.714 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:17:53.785 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:53.786 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:17:53.791 DEBUG 29668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:17:53.792 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:17:53.792 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:17:53.792 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:17:53.793 DEBUG 29668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:17:53.794  INFO 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:17:53.795 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:17:53.804 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:17:53.808 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:17:53.809 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:17:53.810 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:17:53.810 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:00.579 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=cancelled
2025-05-05 21:18:00.579 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:00.584 DEBUG 29668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:00.584 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=cancelled] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:00.584 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=cancelled
2025-05-05 21:18:00.584 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=cancelled", parameters={masked}
2025-05-05 21:18:00.585 DEBUG 29668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:00.585  INFO 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: cancelled, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:18:00.586 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:18:00.591 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-05 21:18:00.593 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:00.593 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-05 21:18:00.595 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:00.595 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:00.691 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:18:00.691 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:00.691 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:18:00.692 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:00.693 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:00.693 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:00.696 DEBUG 29668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:00.697 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:00.697 DEBUG 29668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:00.697 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:18:00.697 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:00.698 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:18:00.698 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:18:00.698 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:18:00.698 DEBUG 29668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:18:00.699 DEBUG 29668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:18:00.699 DEBUG 29668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:00.700 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:00.700 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:00.700 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:18:00.701 DEBUG 29668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:00.702  INFO 29668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:00.702 DEBUG 29668 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:00.710 DEBUG 29668 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:00.712 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:00.713 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:00.715 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:00.715 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:00.721 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:00.727 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:18:00.729 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:00.729 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:00.754 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:00.754 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:18:00.755 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:00.756 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:00.782 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:00.782 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:00.787 DEBUG 29668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:00.787 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:00.787 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:00.788 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:18:00.788 DEBUG 29668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:00.790  INFO 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:00.790 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:00.798 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:00.800 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:00.801 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:00.802 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:00.802 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:02.765 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in
2025-05-05 21:18:02.766 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:02.772 DEBUG 29668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:02.772 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:02.773 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in
2025-05-05 21:18:02.773 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=checked-in", parameters={masked}
2025-05-05 21:18:02.773 DEBUG 29668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:02.775  INFO 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: checked-in, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:18:02.775 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:18:02.777  WARN 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Invalid reservation status string provided for getAllReservations: checked-in
2025-05-05 21:18:02.789 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=11, TotalPages=2
2025-05-05 21:18:02.792 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:02.792 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:02.794 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:02.794 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:02.941 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:18:02.942 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:02.945 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:18:02.945 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:02.946 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:02.947 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:02.947 DEBUG 29668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:02.948 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:02.948 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:18:02.949 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:18:02.949 DEBUG 29668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:18:02.950 DEBUG 29668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:02.951 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:02.951 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:18:02.951 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:18:02.952 DEBUG 29668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:18:02.953 DEBUG 29668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:02.953 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:02.954 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:02.954 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:18:02.954 DEBUG 29668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:02.956  INFO 29668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:02.956 DEBUG 29668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:02.964 DEBUG 29668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:02.966 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:02.967 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:02.968 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:02.968 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:02.978 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:02.986 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:18:02.988 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:02.988 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:03.013 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:03.013 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:18:03.014 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:03.015 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:03.045 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:03.045 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:03.051 DEBUG 29668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:03.051 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:03.051 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:03.052 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:18:03.052 DEBUG 29668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:03.053  INFO 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:03.053 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:03.061 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:03.066 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:03.067 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:03.068 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:03.068 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:05.728 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=pending
2025-05-05 21:18:05.729 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:05.735 DEBUG 29668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:05.735 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:05.736 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=pending
2025-05-05 21:18:05.736 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=pending", parameters={masked}
2025-05-05 21:18:05.736 DEBUG 29668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:05.739  INFO 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:18:05.739 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:18:05.745 DEBUG 29668 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=6, TotalPages=1
2025-05-05 21:18:05.748 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:05.749 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:05.750 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:05.751 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:05.847 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:18:05.847 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:05.851 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:18:05.852 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:05.853 DEBUG 29668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:05.854 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:05.854 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:18:05.854 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:18:05.855 DEBUG 29668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:18:05.856 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:05.856 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:05.858 DEBUG 29668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:05.858 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:05.858 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:18:05.859 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:18:05.859 DEBUG 29668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:18:05.861 DEBUG 29668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:05.862 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:05.862 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:05.863 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:18:05.863 DEBUG 29668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:05.864  INFO 29668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:05.865 DEBUG 29668 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:05.874 DEBUG 29668 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:05.877 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:05.878 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:05.880 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:05.880 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:05.888 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:05.899 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:18:05.901 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:05.901 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:05.927 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:05.927 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:18:05.929 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:05.929 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:05.959 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:05.959 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:05.965 DEBUG 29668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:05.965 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:05.966 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:05.966 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:18:05.966 DEBUG 29668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:05.968  INFO 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:05.968 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:05.976 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:05.978 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:05.979 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:05.980 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:05.980 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:08.731 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=completed
2025-05-05 21:18:08.731 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:08.737 DEBUG 29668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:08.738 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=completed] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:08.738 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=completed
2025-05-05 21:18:08.738 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=completed", parameters={masked}
2025-05-05 21:18:08.738 DEBUG 29668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:08.739  INFO 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: completed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:18:08.740 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:18:08.746 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=3, TotalPages=1
2025-05-05 21:18:08.748 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:08.748 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:08.750 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:08.751 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:08.830 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:18:08.830 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:08.834 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:08.834 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:08.834 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:18:08.834 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:08.836 DEBUG 29668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:08.837 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:08.837 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:18:08.838 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:18:08.838 DEBUG 29668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:08.838 DEBUG 29668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:18:08.839 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:08.839 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:08.839 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:18:08.839 DEBUG 29668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:08.840 DEBUG 29668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:08.840 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:08.840 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:18:08.840 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:18:08.841 DEBUG 29668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:18:08.841  INFO 29668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:08.841 DEBUG 29668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:08.848 DEBUG 29668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:08.851 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:08.852 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:08.853 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:08.853 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:08.862 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:08.870 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:18:08.872 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:08.872 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:08.897 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:08.897 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:18:08.899 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:08.899 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:08.944 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:08.944 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:08.946 DEBUG 29668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:08.947 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:08.947 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:08.947 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:18:08.947 DEBUG 29668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:08.948  INFO 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:08.948 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:08.956 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:08.959 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:08.959 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:08.960 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:08.960 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:21.466 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:18:21.467 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:21.467 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:18:21.467 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:21.471 DEBUG 29668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:21.471 DEBUG 29668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:21.476 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:18:21.476 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:18:21.476 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:18:21.476 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:18:21.476 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:18:21.476 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:18:21.477 DEBUG 29668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:18:21.482 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:18:21.486 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:18:21.486 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:18:21.486 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:21.488 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:21.488 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:18:21.489 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:21.489 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:21.489 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:18:21.490 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:21.490 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:18:21.490 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:18:21.490 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:18:21.491 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:18:21.497 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:18:21.497 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:33.585 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in
2025-05-05 21:18:33.586 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:33.592 DEBUG 29668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:33.593 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:33.593 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=checked-in
2025-05-05 21:18:33.593 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=checked-in", parameters={masked}
2025-05-05 21:18:33.594 DEBUG 29668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:33.595  INFO 29668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: checked-in, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:18:33.596 DEBUG 29668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:18:33.597  WARN 29668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Invalid reservation status string provided for getAllReservations: checked-in
2025-05-05 21:18:33.607 DEBUG 29668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=11, TotalPages=2
2025-05-05 21:18:33.609 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:33.610 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:33.612 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:33.612 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:33.830 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:18:33.830 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:33.839 DEBUG 29668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:33.839 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:33.839 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:18:33.839 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:18:33.839 DEBUG 29668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:18:33.846 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:18:33.846 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:33.850 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:33.850 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:33.852 DEBUG 29668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:33.853 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:33.853 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:18:33.853 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:18:33.853 DEBUG 29668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:18:33.855 DEBUG 29668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:33.856 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:33.856 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:18:33.857 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:18:33.857 DEBUG 29668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:33.858  INFO 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:33.858 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:33.871 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:33.874 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:33.875 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:33.879 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:33.880 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:33.881 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:33.891 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:18:33.893 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:33.893 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:33.923 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:33.923 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:18:33.925 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:33.925 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:18:34.021 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:34.022 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:18:34.029 DEBUG 29668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:18:34.030 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:18:34.030 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:18:34.030 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:18:34.031 DEBUG 29668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:18:34.032  INFO 29668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:18:34.032 DEBUG 29668 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:18:34.043 DEBUG 29668 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:18:34.047 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:18:34.047 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:18:34.049 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:18:34.050 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:20:12.762 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?pageSize=1000&page=0&size=1000
2025-05-05 21:20:12.763 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:20:12.767 DEBUG 29668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:20:12.768 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?pageSize=1000&page=0&size=1000] with attributes [authenticated]
2025-05-05 21:20:12.768 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?pageSize=1000&page=0&size=1000
2025-05-05 21:20:12.768 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?pageSize=1000&page=0&size=1000", parameters={masked}
2025-05-05 21:20:12.769 DEBUG 29668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-05 21:20:12.798 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:20:12.799 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=1000, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, i (truncated)...]
2025-05-05 21:20:12.801 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:20:12.802 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:20:20.160 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?pageSize=1000&page=0&size=1000
2025-05-05 21:20:20.161 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:20:20.167 DEBUG 29668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:20:20.168 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?pageSize=1000&page=0&size=1000] with attributes [authenticated]
2025-05-05 21:20:20.168 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?pageSize=1000&page=0&size=1000
2025-05-05 21:20:20.168 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?pageSize=1000&page=0&size=1000", parameters={masked}
2025-05-05 21:20:20.169 DEBUG 29668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-05 21:20:20.184 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:20:20.185 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=1000, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, i (truncated)...]
2025-05-05 21:20:20.186 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:20:20.187 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:22:59.722 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=cancelled
2025-05-05 21:22:59.723 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:22:59.727 DEBUG 29668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:22:59.728 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=cancelled] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:22:59.728 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=cancelled
2025-05-05 21:22:59.728 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=cancelled", parameters={masked}
2025-05-05 21:22:59.728 DEBUG 29668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:22:59.729  INFO 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: cancelled, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:22:59.729 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:22:59.734 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-05 21:22:59.735 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:22:59.736 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-05 21:22:59.737 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:22:59.737 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:22:59.776 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:22:59.776 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:22:59.780 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:22:59.780 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:22:59.780 DEBUG 29668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:22:59.782 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:22:59.782 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:22:59.782 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:22:59.782 DEBUG 29668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:22:59.786 DEBUG 29668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:22:59.787 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:22:59.787 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:22:59.787 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:22:59.788 DEBUG 29668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:22:59.808 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:22:59.817 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:22:59.820 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:22:59.820 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:22:59.842 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:22:59.842 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:22:59.846 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:22:59.846 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:22:59.847 DEBUG 29668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:22:59.847 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:22:59.847 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:22:59.847 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:22:59.848 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:22:59.848 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:22:59.848 DEBUG 29668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:22:59.849  INFO 29668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:22:59.849 DEBUG 29668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:22:59.857 DEBUG 29668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:22:59.857 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:22:59.857 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:22:59.859 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:22:59.859 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:22:59.860 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:22:59.861 DEBUG 29668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:22:59.861 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:22:59.861 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:22:59.861 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:22:59.861 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:22:59.862 DEBUG 29668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:22:59.863  INFO 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:22:59.863 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:22:59.869 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:22:59.871 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:22:59.872 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:22:59.873 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:22:59.873 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:02.707 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1&status=pending
2025-05-05 21:23:02.707 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:02.711 DEBUG 29668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:02.712 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:02.712 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1&status=pending
2025-05-05 21:23:02.712 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1&status=pending", parameters={masked}
2025-05-05 21:23:02.713 DEBUG 29668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:23:02.714  INFO 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-05 21:23:02.714 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:23:02.720 DEBUG 29668 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=6, TotalPages=1
2025-05-05 21:23:02.722 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:02.723 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:23:02.724 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:02.724 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:02.893 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:23:02.893 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:02.899 DEBUG 29668 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:02.900 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:02.900 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:23:02.901 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:23:02.902 DEBUG 29668 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:23:02.921 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:23:02.922 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:02.925 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:23:02.926 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:02.927 DEBUG 29668 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:02.928 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:02.928 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:23:02.928 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:23:02.929 DEBUG 29668 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:23:02.933 DEBUG 29668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:02.934 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:02.934 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:23:02.935 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:23:02.935 DEBUG 29668 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:23:02.936  INFO 29668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:23:02.937 DEBUG 29668 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:23:02.959 DEBUG 29668 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:23:02.961 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:02.962 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:23:02.963 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:02.963 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:02.971 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:02.977 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:23:02.978 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:02.978 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:23:02.979 DEBUG 29668 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:02.979 DEBUG 29668 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:02.979 DEBUG 29668 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:02.979 DEBUG 29668 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:03.031 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:23:03.032 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:03.037 DEBUG 29668 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:03.037 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:03.037 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:23:03.038 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:23:03.038 DEBUG 29668 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:23:03.039  INFO 29668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:23:03.039 DEBUG 29668 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:23:03.048 DEBUG 29668 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:23:03.050 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:03.051 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:23:03.052 DEBUG 29668 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:03.052 DEBUG 29668 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:07.138 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 21:23:07.138 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:07.143 DEBUG 29668 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:07.144 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:07.144 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 21:23:07.144 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 21:23:07.145 DEBUG 29668 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:23:07.145  INFO 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:23:07.146 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:23:07.154 DEBUG 29668 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 21:23:07.156 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:07.157 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:23:07.158 DEBUG 29668 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:07.158 DEBUG 29668 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:07.355 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:23:07.355 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:23:07.355 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:07.355 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:07.358 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:23:07.359 DEBUG 29668 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:07.359 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:07.359 DEBUG 29668 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:23:07.360 DEBUG 29668 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:23:07.364 DEBUG 29668 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:07.364 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:07.365 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:23:07.365 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:23:07.365 DEBUG 29668 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:23:07.367  INFO 29668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:23:07.367 DEBUG 29668 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:23:07.373 DEBUG 29668 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:23:07.375 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:07.375 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:23:07.377 DEBUG 29668 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:07.377 DEBUG 29668 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:07.379 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:07.384 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:23:07.386 DEBUG 29668 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:07.386 DEBUG 29668 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:07.411 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:07.412 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:23:07.413 DEBUG 29668 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:07.414 DEBUG 29668 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:07.467 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:23:07.468 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:07.473 DEBUG 29668 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:07.474 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:23:07.474 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:23:07.475 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:23:07.475 DEBUG 29668 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:23:07.476  INFO 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:23:07.476 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:23:07.483 DEBUG 29668 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:23:07.485 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:07.485 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:23:07.486 DEBUG 29668 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:07.486 DEBUG 29668 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:58.394 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:23:58.395 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:58.396 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:23:58.397 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:58.400 DEBUG 29668 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:58.400 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:23:58.400 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:23:58.401 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:23:58.401 DEBUG 29668 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:23:58.401 DEBUG 29668 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:23:58.401 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:23:58.402 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:23:58.402 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:23:58.403 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:23:58.414 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:23:58.415 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:23:58.415 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:58.415 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:23:58.415 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:23:58.415 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:23:58.416 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:23:58.416 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:23:58.416 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:23:58.417 DEBUG 29668 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:23:58.419 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:23:58.420 DEBUG 29668 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:23:58.420 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:23:58.426 DEBUG 29668 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:23:58.426 DEBUG 29668 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:24:20.123  INFO 29668 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:24:20.127  INFO 29668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:24:20.149  INFO 29668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:24:28.731  INFO 36480 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 36480 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:24:28.734 DEBUG 36480 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:24:28.736  INFO 36480 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:24:30.662  INFO 36480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:24:30.978  INFO 36480 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 301 ms. Found 19 JPA repository interfaces.
2025-05-05 21:24:31.862  INFO 36480 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:24:31.864  INFO 36480 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:24:31.865  INFO 36480 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:24:31.866  INFO 36480 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:24:31.939  INFO 36480 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:24:31.954  INFO 36480 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:24:31.955  INFO 36480 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:24:32.193  INFO 36480 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:24:32.194  INFO 36480 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3379 ms
2025-05-05 21:24:32.495  INFO 36480 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:24:32.583  INFO 36480 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:24:32.853  INFO 36480 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:24:33.032  INFO 36480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:24:33.535  INFO 36480 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:24:33.558  INFO 36480 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:24:35.596  INFO 36480 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:24:35.610  INFO 36480 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:24:36.479 DEBUG 36480 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:24:36.480 DEBUG 36480 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:24:37.661 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 21:24:37.673 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 21:24:37.674 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 21:24:37.674 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 21:24:37.674 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 21:24:37.675 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 21:24:37.675 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 21:24:37.675 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 21:24:37.676 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 21:24:37.676 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 21:24:37.676 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 21:24:37.677 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 21:24:37.677 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 21:24:37.677 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 21:24:37.677 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 21:24:37.678 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 21:24:37.679 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 21:24:37.680 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 21:24:37.680 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 21:24:37.680 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 21:24:37.680 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 21:24:37.680 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 21:24:37.681 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 21:24:37.681 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 21:24:37.681 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 21:24:37.681 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 21:24:37.681 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 21:24:37.681 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 21:24:37.682 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 21:24:37.685 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 21:24:37.685 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 21:24:37.686 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 21:24:37.686 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 21:24:37.687 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 21:24:37.687 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 21:24:37.687 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 21:24:37.687 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 21:24:37.688 DEBUG 36480 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 21:24:37.695  INFO 36480 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cc878e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@247877f3, org.springframework.security.web.context.SecurityContextPersistenceFilter@27ada0e8, org.springframework.security.web.header.HeaderWriterFilter@2bd8c8f1, org.springframework.web.filter.CorsFilter@749ffdc7, org.springframework.security.web.authentication.logout.LogoutFilter@1f39b3ba, com.hotel.config.JwtAuthenticationFilter@4844e24b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b6942a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64641998, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44bb6856, org.springframework.security.web.session.SessionManagementFilter@48b1b469, org.springframework.security.web.access.ExceptionTranslationFilter@597eb9ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3dedc8b8]
2025-05-05 21:24:37.752  WARN 36480 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 21:24:37.978 DEBUG 36480 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 21:24:38.016  INFO 36480 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 21:24:38.118 DEBUG 36480 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 21:24:38.125 DEBUG 36480 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 21:24:38.147 DEBUG 36480 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 21:24:38.161 DEBUG 36480 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 21:24:38.479  INFO 36480 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 21:24:38.489  INFO 36480 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 10.709 seconds (JVM running for 12.157)
2025-05-05 21:31:23.183  INFO 36480 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 21:31:23.186  INFO 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 21:31:23.188 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 21:31:23.190 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 21:31:23.190 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 21:31:23.213 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@b2db8bc
2025-05-05 21:31:23.214 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@64faf3d
2025-05-05 21:31:23.216 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 21:31:23.216  INFO 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 30 ms
2025-05-05 21:31:23.251 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-05 21:31:23.251 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-05 21:31:23.266 DEBUG 36480 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:31:23.266 DEBUG 36480 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:31:23.506 DEBUG 36480 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-05 21:31:23.508 DEBUG 36480 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-05 21:31:23.532 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-05 21:31:23.533 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-05 21:31:23.534 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:31:23.535 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-05 21:31:23.539 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-05 21:31:23.539 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-05 21:31:23.549 DEBUG 36480 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-05 21:31:23.549 DEBUG 36480 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:31:23.633  INFO 36480 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:31:23.633 DEBUG 36480 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-05 21:31:23.735 DEBUG 36480 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=20, TotalPages=2
2025-05-05 21:31:23.839 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:31:23.842 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-05 21:31:23.859 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:31:23.859 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:31:23.897 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:31:23.899 DEBUG 36480 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:31:23.903 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:31:23.904 DEBUG 36480 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:31:24.212 DEBUG 36480 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-05 21:31:24.213 DEBUG 36480 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:31:24.215 DEBUG 36480 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-05 21:31:24.216 DEBUG 36480 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:31:24.222 DEBUG 36480 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-05 21:31:24.223 DEBUG 36480 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:31:24.223 DEBUG 36480 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-05 21:31:24.223 DEBUG 36480 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-05 21:31:24.224 DEBUG 36480 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-05 21:31:24.224 DEBUG 36480 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-05 21:31:24.225 DEBUG 36480 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:31:24.225 DEBUG 36480 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-05 21:31:24.226 DEBUG 36480 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-05 21:31:24.226 DEBUG 36480 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-05 21:31:24.292 DEBUG 36480 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:31:24.315 DEBUG 36480 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=5, checkInNumber=CI2025 (truncated)...]
2025-05-05 21:31:24.336 DEBUG 36480 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:31:24.336 DEBUG 36480 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:31:24.376 DEBUG 36480 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:31:24.377 DEBUG 36480 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=20, availableRooms=44, newUse (truncated)...]
2025-05-05 21:31:24.379 DEBUG 36480 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:31:24.380 DEBUG 36480 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:31:24.530 DEBUG 36480 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:31:24.532 DEBUG 36480 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:31:24.538 DEBUG 36480 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-05 21:31:24.540 DEBUG 36480 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:31:24.540 DEBUG 36480 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-05 21:31:24.540 DEBUG 36480 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-05 21:31:24.541 DEBUG 36480 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:31:24.560  INFO 36480 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:31:24.561 DEBUG 36480 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:31:24.574 DEBUG 36480 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:31:24.577 DEBUG 36480 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:31:24.577 DEBUG 36480 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:31:24.579 DEBUG 36480 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:31:24.579 DEBUG 36480 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:31:24.666 DEBUG 36480 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:31:24.667 DEBUG 36480 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:31:24.674 DEBUG 36480 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-05 21:31:24.675 DEBUG 36480 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-05 21:31:24.675 DEBUG 36480 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1
2025-05-05 21:31:24.675 DEBUG 36480 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-05&page=0&size=1", parameters={masked}
2025-05-05 21:31:24.676 DEBUG 36480 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-05 21:31:24.677  INFO 36480 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-05 21:31:24.678 DEBUG 36480 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-05 21:31:24.688 DEBUG 36480 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=7, TotalPages=7
2025-05-05 21:31:24.691 DEBUG 36480 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:31:24.692 DEBUG 36480 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 7 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-05 21:31:24.694 DEBUG 36480 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:31:24.695 DEBUG 36480 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:37:59.425 DEBUG 36480 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:37:59.426 DEBUG 36480 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:37:59.432 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/stats/today
2025-05-05 21:37:59.432 DEBUG 36480 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:37:59.438 DEBUG 36480 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:37:59.441 DEBUG 36480 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:37:59.441 DEBUG 36480 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:37:59.441 DEBUG 36480 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:37:59.441 DEBUG 36480 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:37:59.443 DEBUG 36480 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:37:59.443 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/stats/today] with attributes [authenticated]
2025-05-05 21:37:59.444 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/stats/today
2025-05-05 21:37:59.444 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/stats/today", parameters={}
2025-05-05 21:37:59.489 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-05 21:37:59.497 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-05 21:37:59.498 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-05 21:37:59.498 DEBUG 36480 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:37:59.510 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /index.html
2025-05-05 21:37:59.510 DEBUG 36480 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:37:59.511 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:37:59.511 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /index.html
2025-05-05 21:37:59.512 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/index.html", parameters={}
2025-05-05 21:37:59.516 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-05 21:37:59.529 DEBUG 36480 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:37:59.529 DEBUG 36480 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:37:59.532 DEBUG 36480 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:37:59.533 DEBUG 36480 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:37:59.537 DEBUG 36480 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-05-05 21:37:59.537 DEBUG 36480 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:38:29.817 DEBUG 36480 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:38:29.817 DEBUG 36480 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-05 21:38:29.818 DEBUG 36480 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:38:29.818 DEBUG 36480 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:38:29.825 DEBUG 36480 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:38:29.828 DEBUG 36480 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:38:29.829 DEBUG 36480 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:38:29.829 DEBUG 36480 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-05 21:38:29.829 DEBUG 36480 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:38:29.831 DEBUG 36480 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-05 21:38:29.831 DEBUG 36480 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-05 21:38:29.831 DEBUG 36480 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:38:29.831 DEBUG 36480 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-05 21:38:29.831 DEBUG 36480 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:38:29.846 DEBUG 36480 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:38:29.847 DEBUG 36480 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:38:29.849 DEBUG 36480 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:38:29.850 DEBUG 36480 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:38:29.873 DEBUG 36480 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:38:29.874 DEBUG 36480 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-05 21:38:29.882 DEBUG 36480 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:38:29.882 DEBUG 36480 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:40:51.969 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:40:51.972 DEBUG 36480 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:40:51.976 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-05 21:40:51.977 DEBUG 36480 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:40:51.991 DEBUG 36480 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:40:51.992 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-05 21:40:51.992 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-05 21:40:51.992 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-05 21:40:51.993 DEBUG 36480 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-05 21:40:51.995 DEBUG 36480 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:40:51.996 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:40:51.996 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:40:51.997 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:40:51.999 DEBUG 36480 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitors()
2025-05-05 21:40:52.002 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:40:52.003 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-05 21:40:52.005 DEBUG 36480 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:40:52.006 DEBUG 36480 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:40:52.007 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:40:52.008 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-05-05 21:40:52.010 DEBUG 36480 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:40:52.010 DEBUG 36480 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:40:56.504  INFO 36480 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:40:56.732  INFO 36480 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:40:57.069  INFO 36480 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:46:57.601  INFO 37212 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 37212 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:46:57.608 DEBUG 37212 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:46:57.609  INFO 37212 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:46:59.563  INFO 37212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:46:59.994  INFO 37212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 411 ms. Found 19 JPA repository interfaces.
2025-05-05 21:47:01.182  INFO 37212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:47:01.184  INFO 37212 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:47:01.185  INFO 37212 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:47:01.185  INFO 37212 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:47:01.258  INFO 37212 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:47:01.276  INFO 37212 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:47:01.276  INFO 37212 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:47:01.521  INFO 37212 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:47:01.522  INFO 37212 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3811 ms
2025-05-05 21:47:01.849  INFO 37212 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:47:01.960  INFO 37212 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:47:02.266  INFO 37212 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:47:02.458  INFO 37212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:47:03.139  INFO 37212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:47:03.181  INFO 37212 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:47:05.530  INFO 37212 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:47:05.547  INFO 37212 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:47:06.467 DEBUG 37212 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:47:06.468 DEBUG 37212 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:47:08.130 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 21:47:08.143 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 21:47:08.144 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 21:47:08.145 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 21:47:08.146 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 21:47:08.146 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 21:47:08.146 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 21:47:08.146 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 21:47:08.147 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 21:47:08.147 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 21:47:08.147 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 21:47:08.147 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 21:47:08.148 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 21:47:08.148 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 21:47:08.148 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 21:47:08.149 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 21:47:08.150 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 21:47:08.150 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 21:47:08.150 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 21:47:08.150 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 21:47:08.151 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 21:47:08.151 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 21:47:08.152 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 21:47:08.152 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 21:47:08.153 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 21:47:08.153 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 21:47:08.153 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 21:47:08.153 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 21:47:08.154 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 21:47:08.155 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 21:47:08.155 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 21:47:08.155 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 21:47:08.155 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 21:47:08.156 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 21:47:08.156 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 21:47:08.156 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 21:47:08.159 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 21:47:08.160 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 21:47:08.160 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 21:47:08.160 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 21:47:08.161 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 21:47:08.162 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 21:47:08.162 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 21:47:08.162 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 21:47:08.163 DEBUG 37212 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 21:47:08.172  INFO 37212 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f16c21f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2314f013, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f67d37f, org.springframework.security.web.header.HeaderWriterFilter@a1be5cb, org.springframework.web.filter.CorsFilter@2686a801, org.springframework.security.web.authentication.logout.LogoutFilter@359fd0a2, com.hotel.config.JwtAuthenticationFilter@5df7ae0a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57fb6900, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eda853f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72ae1007, org.springframework.security.web.session.SessionManagementFilter@64641998, org.springframework.security.web.access.ExceptionTranslationFilter@423791, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a285418]
2025-05-05 21:47:08.242  WARN 37212 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 21:47:08.490 DEBUG 37212 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 21:47:08.535  INFO 37212 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 21:47:08.647  WARN 37212 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'visitorController' method 
com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
to {GET [/api/visitor/all]}: There is already 'visitorController' bean method
com.hotel.controller.VisitorController#getAllVisitors() mapped.
2025-05-05 21:47:08.654  INFO 37212 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:47:08.657  INFO 37212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:47:08.669  INFO 37212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:47:08.671  INFO 37212 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-05 21:47:08.685  INFO 37212 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-05 21:47:08.739 ERROR 37212 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'visitorController' method 
com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
to {GET [/api/visitor/all]}: There is already 'visitorController' bean method
com.hotel.controller.VisitorController#getAllVisitors() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'visitorController' method 
com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
to {GET [/api/visitor/all]}: There is already 'visitorController' bean method
com.hotel.controller.VisitorController#getAllVisitors() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:669) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:635) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:332) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:420) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:299) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:297) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:266) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:225) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:213) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:205) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 16 common frames omitted

2025-05-05 21:50:10.542  INFO 37400 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 37400 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:50:10.549 DEBUG 37400 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:50:10.550  INFO 37400 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:50:12.950  INFO 37400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:50:13.388  INFO 37400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 417 ms. Found 19 JPA repository interfaces.
2025-05-05 21:50:14.720  INFO 37400 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:50:14.723  INFO 37400 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:50:14.724  INFO 37400 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:50:14.725  INFO 37400 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:50:14.796  INFO 37400 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:50:14.815  INFO 37400 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:50:14.816  INFO 37400 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:50:15.071  INFO 37400 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:50:15.072  INFO 37400 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4425 ms
2025-05-05 21:50:15.408  INFO 37400 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:50:15.513  INFO 37400 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:50:15.833  INFO 37400 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:50:16.046  INFO 37400 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:50:16.913  INFO 37400 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:50:16.961  INFO 37400 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:50:20.156  INFO 37400 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:50:20.183  INFO 37400 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:50:21.618 DEBUG 37400 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:50:21.619 DEBUG 37400 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:50:23.682 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 21:50:23.696 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 21:50:23.698 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 21:50:23.698 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 21:50:23.699 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 21:50:23.700 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 21:50:23.700 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 21:50:23.701 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 21:50:23.702 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 21:50:23.702 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 21:50:23.702 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 21:50:23.702 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 21:50:23.703 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 21:50:23.703 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 21:50:23.704 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 21:50:23.704 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 21:50:23.706 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 21:50:23.706 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 21:50:23.706 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 21:50:23.706 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 21:50:23.707 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 21:50:23.707 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 21:50:23.707 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 21:50:23.707 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 21:50:23.708 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 21:50:23.708 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 21:50:23.708 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 21:50:23.709 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 21:50:23.709 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 21:50:23.709 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 21:50:23.709 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 21:50:23.709 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 21:50:23.709 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 21:50:23.710 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 21:50:23.710 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 21:50:23.710 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 21:50:23.714 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 21:50:23.714 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 21:50:23.715 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 21:50:23.715 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 21:50:23.716 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 21:50:23.716 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 21:50:23.716 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 21:50:23.717 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 21:50:23.717 DEBUG 37400 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 21:50:23.730  INFO 37400 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3abd7b20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@329a27ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@7a0df38e, org.springframework.security.web.header.HeaderWriterFilter@48b1b469, org.springframework.web.filter.CorsFilter@643a73fa, org.springframework.security.web.authentication.logout.LogoutFilter@4884350b, com.hotel.config.JwtAuthenticationFilter@315365ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8aa3013, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@627ad446, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@589a82af, org.springframework.security.web.session.SessionManagementFilter@3984e2b3, org.springframework.security.web.access.ExceptionTranslationFilter@1ac30be4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3070f59f]
2025-05-05 21:50:23.812  WARN 37400 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 21:50:24.133 DEBUG 37400 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 21:50:24.185  INFO 37400 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 21:50:24.336 DEBUG 37400 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 21:50:24.346 DEBUG 37400 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 21:50:24.403 DEBUG 37400 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 21:50:24.418 DEBUG 37400 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 21:50:24.811  INFO 37400 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 21:50:24.827  INFO 37400 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 15.346 seconds (JVM running for 17.12)
2025-05-05 21:50:31.151  INFO 37400 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 21:50:31.152  INFO 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 21:50:31.152 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 21:50:31.152 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 21:50:31.153 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 21:50:31.155 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3bb6b9ab
2025-05-05 21:50:31.156 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1043c493
2025-05-05 21:50:31.156 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 21:50:31.156  INFO 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-05 21:50:31.183 DEBUG 37400 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-05 21:50:31.183 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:50:31.196 DEBUG 37400 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:50:31.196 DEBUG 37400 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:50:31.350 DEBUG 37400 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:50:31.350 DEBUG 37400 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:50:31.367 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:50:31.367 DEBUG 37400 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-05 21:50:31.368 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:50:31.368 DEBUG 37400 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-05 21:50:31.375 DEBUG 37400 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-05 21:50:31.375 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:50:31.384 DEBUG 37400 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-05 21:50:31.384 DEBUG 37400 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-05 21:50:31.491 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!
2025-05-05 21:50:31.491 DEBUG 37400 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:50:31.492 DEBUG 37400 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-05 21:50:31.494 DEBUG 37400 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:50:31.507 ERROR 37400 --- [http-nio-8090-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!] with root cause

org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.QueryUtils.toJpaOrder(QueryUtils.java:716) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.QueryUtils.toOrders(QueryUtils.java:669) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:817) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:774) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:515) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy157.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.VisitorRecordServiceImpl.searchVisitorRecordsPageable(VisitorRecordServiceImpl.java:171) ~[classes/:na]
	at com.hotel.service.impl.VisitorRecordServiceImpl$$FastClassBySpringCGLIB$$dd3bdfa4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.VisitorRecordServiceImpl$$EnhancerBySpringCGLIB$$4d09c7e6.searchVisitorRecordsPageable(<generated>) ~[classes/:na]
	at com.hotel.controller.VisitorController.getAllVisitorRecordsPageable(VisitorController.java:202) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-05 21:50:31.514 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=0&size=10
2025-05-05 21:50:31.514 DEBUG 37400 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:50:31.515 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:50:31.515 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=0&size=10
2025-05-05 21:50:31.515 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=0&size=10", parameters={masked}
2025-05-05 21:50:31.517 DEBUG 37400 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-05 21:50:31.525 DEBUG 37400 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:50:31.525 DEBUG 37400 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:50:31.532 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:50:31.532 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Internal Server Error, message=An error occurred, status=500}]
2025-05-05 21:50:31.541 DEBUG 37400 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-05-05 21:50:31.542 DEBUG 37400 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:50:37.859 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:50:37.861 DEBUG 37400 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:50:37.864 DEBUG 37400 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-05 21:50:37.865 DEBUG 37400 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:50:37.870 DEBUG 37400 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:50:37.872 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:50:37.872 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:50:37.873 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:50:37.873 DEBUG 37400 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-05 21:50:37.874 DEBUG 37400 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:50:37.875 DEBUG 37400 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-05 21:50:37.875 DEBUG 37400 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-05 21:50:37.875 DEBUG 37400 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-05 21:50:37.876 DEBUG 37400 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-05 21:50:37.881 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!
2025-05-05 21:50:37.882 DEBUG 37400 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:50:37.884 ERROR 37400 --- [http-nio-8090-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!] with root cause

org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.QueryUtils.toJpaOrder(QueryUtils.java:716) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.QueryUtils.toOrders(QueryUtils.java:669) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:817) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:774) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:515) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy157.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.VisitorRecordServiceImpl.searchVisitorRecordsPageable(VisitorRecordServiceImpl.java:171) ~[classes/:na]
	at com.hotel.service.impl.VisitorRecordServiceImpl$$FastClassBySpringCGLIB$$dd3bdfa4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.VisitorRecordServiceImpl$$EnhancerBySpringCGLIB$$4d09c7e6.searchVisitorRecordsPageable(<generated>) ~[classes/:na]
	at com.hotel.controller.VisitorController.getAllVisitorRecordsPageable(VisitorController.java:202) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-05 21:50:37.887 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=0&size=10
2025-05-05 21:50:37.887 DEBUG 37400 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:50:37.887 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:50:37.888 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=0&size=10
2025-05-05 21:50:37.888 DEBUG 37400 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:50:37.888 DEBUG 37400 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-05 21:50:37.888 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=0&size=10", parameters={masked}
2025-05-05 21:50:37.889 DEBUG 37400 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-05 21:50:37.890 DEBUG 37400 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:50:37.890 DEBUG 37400 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:50:37.890 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:50:37.891 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Internal Server Error, message=An error occurred, status=500}]
2025-05-05 21:50:37.892 DEBUG 37400 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-05-05 21:50:37.893 DEBUG 37400 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:53:13.063  INFO 37400 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:53:13.066  INFO 37400 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:53:13.082  INFO 37400 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:53:20.053  INFO 38776 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 38776 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:53:20.056 DEBUG 38776 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:53:20.057  INFO 38776 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:53:21.653  INFO 38776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:53:22.012  INFO 38776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 345 ms. Found 19 JPA repository interfaces.
2025-05-05 21:53:22.911  INFO 38776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:53:22.913  INFO 38776 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:53:22.914  INFO 38776 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:53:22.914  INFO 38776 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:53:22.924  INFO 38776 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:53:22.937  INFO 38776 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:53:22.937  INFO 38776 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:53:23.183  INFO 38776 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:53:23.183  INFO 38776 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3056 ms
2025-05-05 21:53:23.434  INFO 38776 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:53:23.524  INFO 38776 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:53:23.800  INFO 38776 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:53:23.963  INFO 38776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:53:24.458  INFO 38776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:53:24.488  INFO 38776 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:53:26.567  INFO 38776 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:53:26.583  INFO 38776 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:53:27.418 DEBUG 38776 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:53:27.418 DEBUG 38776 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:53:28.638 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 21:53:28.650 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 21:53:28.651 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 21:53:28.651 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 21:53:28.652 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 21:53:28.653 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 21:53:28.653 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 21:53:28.654 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 21:53:28.654 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 21:53:28.654 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 21:53:28.655 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 21:53:28.655 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 21:53:28.655 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 21:53:28.655 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 21:53:28.656 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 21:53:28.656 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 21:53:28.658 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 21:53:28.658 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 21:53:28.659 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 21:53:28.659 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 21:53:28.659 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 21:53:28.659 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 21:53:28.659 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 21:53:28.659 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 21:53:28.660 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 21:53:28.661 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 21:53:28.661 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 21:53:28.661 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 21:53:28.661 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 21:53:28.661 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 21:53:28.661 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 21:53:28.662 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 21:53:28.662 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 21:53:28.662 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 21:53:28.662 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 21:53:28.662 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 21:53:28.664 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 21:53:28.664 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 21:53:28.664 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 21:53:28.664 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 21:53:28.665 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 21:53:28.665 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 21:53:28.665 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 21:53:28.665 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 21:53:28.666 DEBUG 38776 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 21:53:28.675  INFO 38776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c3a767, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@698394bf, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ae2028d, org.springframework.security.web.header.HeaderWriterFilter@35bb3fea, org.springframework.web.filter.CorsFilter@6c68f29c, org.springframework.security.web.authentication.logout.LogoutFilter@1978eab7, com.hotel.config.JwtAuthenticationFilter@7359f3ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d082916, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67201002, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31887330, org.springframework.security.web.session.SessionManagementFilter@513ddf5f, org.springframework.security.web.access.ExceptionTranslationFilter@57fb6900, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@602e7a9e]
2025-05-05 21:53:28.757  WARN 38776 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 21:53:29.011 DEBUG 38776 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 21:53:29.054  INFO 38776 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 21:53:29.167 DEBUG 38776 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 21:53:29.175 DEBUG 38776 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 21:53:29.201 DEBUG 38776 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 21:53:29.214 DEBUG 38776 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 21:53:29.500  INFO 38776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 21:53:29.512  INFO 38776 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 10.18 seconds (JVM running for 12.019)
2025-05-05 21:53:50.790  INFO 38776 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 21:53:50.791  INFO 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 21:53:50.791 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 21:53:50.791 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 21:53:50.791 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 21:53:50.793 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2553fbd0
2025-05-05 21:53:50.794 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7d453075
2025-05-05 21:53:50.794 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 21:53:50.794  INFO 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-05 21:53:50.838 DEBUG 38776 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-05 21:53:50.838 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:53:50.858 DEBUG 38776 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:53:50.858 DEBUG 38776 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:53:51.102 DEBUG 38776 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:53:51.103 DEBUG 38776 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:53:51.123 DEBUG 38776 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-05 21:53:51.123 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:53:51.124 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:53:51.124 DEBUG 38776 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-05 21:53:51.131 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:53:51.131 DEBUG 38776 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-05 21:53:51.144 DEBUG 38776 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-05 21:53:51.144 DEBUG 38776 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-05 21:53:51.281 DEBUG 38776 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:53:51.282 DEBUG 38776 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-05 21:53:51.295 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!
2025-05-05 21:53:51.300 DEBUG 38776 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:53:51.315 ERROR 38776 --- [http-nio-8090-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!] with root cause

org.springframework.data.mapping.PropertyReferenceException: No property 'startTime' found for type 'VisitorRecord'!
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.QueryUtils.toJpaOrder(QueryUtils.java:716) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.QueryUtils.toOrders(QueryUtils.java:669) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:817) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:774) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:515) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy157.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.VisitorRecordServiceImpl.searchVisitorRecordsPageable(VisitorRecordServiceImpl.java:171) ~[classes/:na]
	at com.hotel.service.impl.VisitorRecordServiceImpl$$FastClassBySpringCGLIB$$dd3bdfa4.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.VisitorRecordServiceImpl$$EnhancerBySpringCGLIB$$264307d9.searchVisitorRecordsPageable(<generated>) ~[classes/:na]
	at com.hotel.controller.VisitorController.getAllVisitorRecordsPageable(VisitorController.java:202) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-05 21:53:51.325 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=0&size=10
2025-05-05 21:53:51.326 DEBUG 38776 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:53:51.327 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-05 21:53:51.327 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=0&size=10
2025-05-05 21:53:51.328 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=0&size=10", parameters={masked}
2025-05-05 21:53:51.329 DEBUG 38776 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-05 21:53:51.337 DEBUG 38776 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:53:51.338 DEBUG 38776 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:53:51.347 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:53:51.347 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Internal Server Error, message=An error occurred, status=500}]
2025-05-05 21:53:51.359 DEBUG 38776 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-05-05 21:53:51.360 DEBUG 38776 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:55:37.467  INFO 38776 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:55:37.471  INFO 38776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-05 21:55:37.495  INFO 38776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-05 21:55:49.174  INFO 14708 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 14708 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-05 21:55:49.179 DEBUG 14708 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-05 21:55:49.180  INFO 14708 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-05 21:55:50.845  INFO 14708 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-05 21:55:51.228  INFO 14708 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 366 ms. Found 19 JPA repository interfaces.
2025-05-05 21:55:52.248  INFO 14708 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-05 21:55:52.250  INFO 14708 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-05 21:55:52.251  INFO 14708 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-05 21:55:52.252  INFO 14708 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-05 21:55:52.326  INFO 14708 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-05 21:55:52.346  INFO 14708 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-05 21:55:52.346  INFO 14708 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-05 21:55:52.600  INFO 14708 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-05 21:55:52.600  INFO 14708 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3327 ms
2025-05-05 21:55:52.896  INFO 14708 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-05 21:55:52.984  INFO 14708 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-05 21:55:53.341  INFO 14708 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-05 21:55:53.615  INFO 14708 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-05 21:55:54.442  INFO 14708 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-05 21:55:54.503  INFO 14708 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-05 21:55:56.738  INFO 14708 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-05 21:55:56.757  INFO 14708 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-05 21:55:57.784 DEBUG 14708 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-05 21:55:57.785 DEBUG 14708 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-05 21:55:59.312 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-05 21:55:59.325 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-05 21:55:59.326 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-05 21:55:59.326 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-05 21:55:59.327 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-05 21:55:59.327 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-05 21:55:59.328 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-05 21:55:59.328 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-05 21:55:59.329 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-05 21:55:59.329 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-05 21:55:59.329 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-05 21:55:59.330 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-05 21:55:59.330 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-05 21:55:59.330 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-05 21:55:59.330 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-05 21:55:59.331 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-05 21:55:59.332 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-05 21:55:59.332 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-05 21:55:59.332 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-05 21:55:59.333 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-05 21:55:59.333 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-05 21:55:59.333 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-05 21:55:59.333 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-05 21:55:59.334 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-05 21:55:59.335 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-05 21:55:59.335 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-05 21:55:59.335 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-05 21:55:59.336 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-05 21:55:59.336 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-05 21:55:59.337 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-05 21:55:59.337 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-05 21:55:59.337 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-05 21:55:59.337 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-05 21:55:59.338 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-05 21:55:59.338 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-05 21:55:59.338 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-05 21:55:59.342 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-05 21:55:59.342 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-05 21:55:59.342 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-05 21:55:59.342 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-05 21:55:59.343 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-05 21:55:59.344 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-05 21:55:59.344 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-05 21:55:59.344 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-05 21:55:59.344 DEBUG 14708 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-05 21:55:59.352  INFO 14708 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@57d0c779, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3070f59f, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e845f1c, org.springframework.security.web.header.HeaderWriterFilter@57def953, org.springframework.web.filter.CorsFilter@643a73fa, org.springframework.security.web.authentication.logout.LogoutFilter@6f51d1cc, com.hotel.config.JwtAuthenticationFilter@315365ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f67d37f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b8ba1d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f16c21f, org.springframework.security.web.session.SessionManagementFilter@62fa4a88, org.springframework.security.web.access.ExceptionTranslationFilter@2bd8c8f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c682826]
2025-05-05 21:55:59.424  WARN 14708 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-05 21:55:59.725 DEBUG 14708 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-05 21:55:59.770  INFO 14708 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-05 21:55:59.890 DEBUG 14708 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 166 mappings in 'requestMappingHandlerMapping'
2025-05-05 21:55:59.900 DEBUG 14708 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-05 21:55:59.928 DEBUG 14708 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-05 21:55:59.943 DEBUG 14708 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-05 21:56:00.284  INFO 14708 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-05 21:56:00.299  INFO 14708 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 11.968 seconds (JVM running for 13.497)
2025-05-05 21:56:11.039  INFO 14708 --- [http-nio-8090-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-05 21:56:11.039  INFO 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-05 21:56:11.039 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-05 21:56:11.040 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-05 21:56:11.040 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-05 21:56:11.042 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@225b460a
2025-05-05 21:56:11.043 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@157a2c86
2025-05-05 21:56:11.043 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-05 21:56:11.044  INFO 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-05 21:56:11.077 DEBUG 14708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-05 21:56:11.078 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-05 21:56:11.091 DEBUG 14708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:56:11.091 DEBUG 14708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-05 21:56:11.288 DEBUG 14708 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:56:11.288 DEBUG 14708 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-05 21:56:11.311 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-05 21:56:11.311 DEBUG 14708 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-05 21:56:11.312 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-05 21:56:11.312 DEBUG 14708 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-05 21:56:11.317 DEBUG 14708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-05 21:56:11.317 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-05 21:56:11.329 DEBUG 14708 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-05 21:56:11.329 DEBUG 14708 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-05 21:56:11.454 DEBUG 14708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:56:11.456 DEBUG 14708 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-05 21:56:11.495 DEBUG 14708 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:56:11.498 DEBUG 14708 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-05 21:56:11.551 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-05 21:56:11.551 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 0 containing UNKNOWN instances]
2025-05-05 21:56:11.579 DEBUG 14708 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-05 21:56:11.581 DEBUG 14708 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
